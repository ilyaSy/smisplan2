(this.webpackJsonpsmisplan2=this.webpackJsonpsmisplan2||[]).push([[1],{10:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a(56),s=a(4),i=new function e(){var t=this;Object(n.a)(this,e),this.clear=function(){t.getKeys().forEach((function(e){e.startsWith("_")?delete t.data[e]:"string"===typeof t.data[e]?t.data[e]="":t.data[e]=[]}))},this.clearAll=function(){t.clear(),t.perm={}},this.setKeys=function(e){Object.values(e).filter((function(e){return e.isFilter})).forEach((function(e){"undefined"===typeof t.data[e.id]&&(t.data[e.id]="")}))},this.setValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;t[e][a]=n;var i=[];Object.keys(s.b.dataTable).forEach((function(e){s.b.dataTable[e].vocabulary===a&&i.push(e)})),i.length>0&&(1===i.length?t[e][i[0]]=n:t[e]["_".concat(i.join("OR"))]=n)},this.getKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return Object.keys(t[e])},this.checkFilter=function(e){return t.getKeys().includes(e)},this.checkValue=function(e){var a=!0,n={};t.getKeys("data").forEach((function(e){n[e]=t.data[e]})),t.getKeys("perm").forEach((function(e){n[e]=t.perm[e]}));for(var i=Object.keys(n),l=0;l<i.length;l++){var c=i[l];if(n[c]&&""!==n[c]&&(s.b.dataTable[c]||-1!==c.search(/^_.+OR.+$/)||"commonFieldSearch"===c)){if("commonFieldSearch"===c)for(var r=Object.keys(e),o=0;o<r.length;o++){var u=r[o];if("value"!==u&&(u===s.b.specificParameters.mainValue&&"string"===typeof e[u]&&(a=t.compare(n[c],e[u],!0))))break}else if(-1!==c.search(/^_(.+OR.+)$/))for(var d=c.replace(/^_(.+OR.+)/,"$1").split("OR"),b=0;b<d.length;b++){var f=d[b];if(s.b.dataTable[f]){if("multi-select"===s.b.dataTable[f].type)for(var p=e[f].split(","),h=0;h<p.length&&!(a=t.compare(n[c],p[h]));h++);else a=t.compare(n[c],e[f]);if(a)break}}else if("multi-select"===s.b.dataTable[c].type)for(var j=e[c].split(","),v=0;v<j.length&&!(a=t.compare(n[c],j[v]));v++);else a=t.compare(n[c],e[c]);if(!a)break}}return a},this.compare=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"false",n=!0;if("string"===typeof e)if(""!==e&&t&&""!==t&&-1!==t.search(/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/)){var s=t.replace(/(\d{4}-\d{2}-\d{2}) \d{2}:\d{2}:\d{2}/,"$1");e!==s&&(n=!1)}else t&&""!==e&&!a?e!==t&&(n=!1):t&&""!==e&&a?-1===t.search(new RegExp(e,"i"))&&(n=!1):t&&""!==t||""===e||(n=!1);else"number"===typeof e?e&&e>0&&e!==parseInt(t,10)&&(n=!1):e&&e.length>0&&!e.includes(t)&&(n=!1);return n},this.data={developer:[],project:""},this.perm={}}({});function l(){var e=[];return s.a.forEach((function(t){i.checkValue(t)&&e.push(t)})),e}},141:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(28),s=a.n(n),i=a(4);function l(e,t,a){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"defaultValue",c=new Date;switch(a[t][l]){case"date":n=s()(c,"YYYY-MM-DD").format("YYYY-MM-DD");break;case"time":n=s()(c,"YYYY-MM-DD").format("HH:mm:00");break;case"datetime":n=s()(c,"YYYY-MM-DD").format("YYYY-MM-DD HH:mm:00");break;case"empty":n=void 0;break;default:if(-1!==a[t][l].search(/object:/)){var r=a[t][l].split(","),o=r[0].split(":")[1],u=r[1].split(":")[1];"data"===o?n=i.a[e][u]:"meta"===o&&(n=i.b[u])}else n=a[t][l]}return n}},18:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return l}));var n=[{id:"task",value:"\u0417\u0430\u0434\u0430\u0447\u0438",realData:!0},{id:"discussion",value:"\u0421\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u044f",realData:!0},{id:"calendar",value:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c",realData:!0},{id:"event",value:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",realData:!0}],s=n.filter((function(e){return e.realData})).map((function(e){return e.id})),i="/smisplan/cgi/api-smisplan-getInfo.pl",l=!0},22:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(287),l=a(117),c=a(163),r=a.n(c),o=a(184),u=a.n(o),d=a(183),b=a.n(d),f=a(173),p=a.n(f),h=a(154),j=a.n(h),v=a(164),m=a.n(v),O=a(165),x=a.n(O),g=a(98),y=a.n(g),k=a(166),w=a.n(k),T=a(167),S=a.n(T),_=a(110),D=a.n(_),E=a(104),I=a.n(E),L=a(169),N=a.n(L),R=a(170),A=a.n(R),P=a(172),F=a.n(P),M=a(171),C=a.n(M),V=a(174),Y=a.n(V),z=a(175),W=a.n(z),H=a(176),B=a.n(H),G=a(93),$=a.n(G),K=a(155),U=a.n(K),J=a(132),q=a.n(J),Q=a(168),Z=a.n(Q),X=a(177),ee=a.n(X),te=a(178),ae=a.n(te),ne=a(179),se=a.n(ne),ie=a(180),le=a.n(ie),ce=a(156),re=a.n(ce),oe=a(181),ue=a.n(oe),de=a(186),be=a.n(de),fe=a(185),pe=a.n(fe),he=a(187),je=a.n(he),ve=a(182),me=a.n(ve),Oe=a(188),xe=a.n(Oe),ge=a(189),ye=a.n(ge),ke=a(190),we=a.n(ke),Te=a(2);function Se(e){var t=e.size||"30px",a=e.fontSize||"medium",n=e.type?e.type:"material-ui",s=e.style||{};s.padding="0","icn_arrow_left_fill"===e.class&&(s.left="-30px");var c="default";return"icn_cancel"===e.class&&(c="secondary"),Object(Te.jsxs)(Te.Fragment,{children:["material-ui"===n&&Object(Te.jsx)(i.a,{title:e.tip?e.tip:"",children:Object(Te.jsxs)(l.a,{className:"icn",style:s,color:c,onClick:"function"===typeof e.action?e.action:null,children:["icn_filter"===e.class&&Object(Te.jsx)(r.a,{fontSize:a}),"icn_tasks_add"===e.class&&Object(Te.jsx)(j.a,{fontSize:a}),"icn_tasks_edit"===e.class&&Object(Te.jsx)(m.a,{fontSize:a}),"icn_tasks_delete"===e.class&&Object(Te.jsx)(x.a,{fontSize:a}),"icn_tasks_complete"===e.class&&Object(Te.jsx)(y.a,{fontSize:a}),"icn_ok"===e.class&&Object(Te.jsx)(w.a,{style:{color:"green"},fontSize:a}),"icn_cancel"===e.class&&Object(Te.jsx)(S.a,{fontSize:a}),"icn_filterOff"===e.class&&Object(Te.jsx)(D.a,{fontSize:a}),"icn_print"===e.class&&Object(Te.jsx)(I.a,{fontSize:a}),"icn_arrow_right"===e.class&&Object(Te.jsx)($.a,{fontSize:a}),"icn_arrow_left"===e.class&&Object(Te.jsx)(U.a,{fontSize:a}),"icn_arrow_down"===e.class&&Object(Te.jsx)(Z.a,{fontSize:a}),"icn_arrow_up"===e.class&&Object(Te.jsx)(q.a,{fontSize:a}),"icn_arrow_right_fill"===e.class&&Object(Te.jsx)(N.a,{fontSize:a}),"icn_arrow_left_fill"===e.class&&Object(Te.jsx)(A.a,{fontSize:a}),"icn_description"===e.class&&Object(Te.jsx)(C.a,{fontSize:a}),"icn_comment"===e.class&&Object(Te.jsx)(F.a,{fontSize:a}),"icn_settings"===e.class&&Object(Te.jsx)(p.a,{fontSize:a}),"icn_menu"===e.class&&Object(Te.jsx)(Y.a,{fontSize:a}),"icn_group"===e.class&&Object(Te.jsx)(W.a,{fontSize:a}),"icn_secDataList"===e.class&&Object(Te.jsx)(B.a,{fontSize:a}),"icn_secDataListCollapse"===e.class&&Object(Te.jsx)(q.a,{fontSize:a}),"icn_question"===e.class&&Object(Te.jsx)(ee.a,{fontSize:a}),"icn_moreH"===e.class&&Object(Te.jsx)(ae.a,{fontSize:a}),"icn_moreV"===e.class&&Object(Te.jsx)(se.a,{fontSize:a}),"icn_meeeting"===e.class&&Object(Te.jsx)(le.a,{fontSize:a}),"icn_discussion"===e.class&&Object(Te.jsx)(ue.a,{fontSize:a}),"icn_notification"===e.class&&Object(Te.jsx)(me.a,{fontSize:a}),"icn_search"===e.class&&Object(Te.jsx)(b.a,{fontSize:a}),"icn_clear"===e.class&&Object(Te.jsx)(u.a,{fontSize:a}),"icn_download"===e.class&&Object(Te.jsx)(re.a,{fontSize:a}),"icn_save"===e.class&&Object(Te.jsx)(pe.a,{fontSize:a}),"icn_save_doc"===e.class&&Object(Te.jsx)(be.a,{fontSize:a}),"icn_attachment"===e.class&&Object(Te.jsx)(je.a,{fontSize:a}),"icn_chief"===e.class&&Object(Te.jsx)(xe.a,{fontSize:a}),"icn_discussionList"===e.class&&Object(Te.jsx)(ye.a,{fontSize:a}),"icn_discussionCopy"===e.class&&Object(Te.jsx)(we.a,{fontSize:a})]})}),"link"===n&&Object(Te.jsx)("a",{href:e.href,target:"_blank",title:e.tip?e.tip:"",rel:"noopener noreferrer",children:Object(Te.jsx)("div",{style:{width:t,height:t,display:"inline-block"},onClick:e.action,onKeyPress:function(){},className:e.class,role:"link","aria-label":"link",tabIndex:0})}),"link"!==n&&"material-ui"!==n&&Object(Te.jsx)("div",{style:{width:t,height:t,display:"inline-block"},onClick:e.action,onKeyPress:function(){},className:e.class,role:"button","aria-label":"button",tabIndex:0})]})}t.a=s.a.memo(Se)},23:function(e,t,a){"use strict";a.d(t,"c",(function(){return w})),a.d(t,"a",(function(){return T})),a.d(t,"b",(function(){return S}));var n=a(38),s=a(20),i=a.n(s),l=a(33),c=a(56),r=a(76),o=a(31),u=a.n(o),d=a(8),b=a(4),f=a(10),p=a(18),h=a(157),j=a.n(h),v=a(244),m=a(245),O=a(246),x={task:null,discussion:null,calendar:null,event:null};x.task=a(247),x.discussion=a(248),x.calendar=a(249),x.event=a(250);var g={task:null,discussion:null,calendar:null,event:null};g.task=a(251),g.discussion=a(252),g.calendar=a(253),g.event=a(254);var y=new j.a(u.a,{delayResponse:100});y.onGet("".concat(p.d,"/user/")).reply(200,v),y.onGet("".concat(p.d,"/developer/")).reply(200,m),y.onGet("".concat(p.d,"/project/")).reply(200,O),y.onGet("".concat(p.d,"/task-meta/")).reply(200,x.task),y.onGet("".concat(p.d,"/discussion-meta/")).reply(200,x.discussion),y.onGet("".concat(p.d,"/calendar-meta/")).reply(200,x.calendar),y.onGet("".concat(p.d,"/event-meta/")).reply(200,x.event),y.onGet("".concat(p.d,"/task/")).reply(200,g.task),y.onGet("".concat(p.d,"/discussion/")).reply(200,g.discussion),y.onGet("".concat(p.d,"/calendar/")).reply(200,g.calendar),y.onGet("".concat(p.d,"/event/")).reply(200,g.event),y.onPut("".concat(p.d,"/task/")).reply(200,{status:"OK",error:"",data:{id:777}}),y.onPut("".concat(p.d,"/discussion/")).reply(200,{status:"OK",error:"",data:{id:777}}),y.onPatch("".concat(p.d,"/task/")).reply(200,{status:"OK",error:"",data:{}}),y.onPatch("".concat(p.d,"/discussion/")).reply(200,{status:"OK",error:"",data:{}}),y.onDelete("".concat(p.d,"/task/")).reply(200,{status:"OK",error:""}),y.onDelete("".concat(p.d,"/discussion/")).reply(200,{status:"OK",error:""}),y.onPost("".concat(p.d,"/task/")).reply(200,{status:"OK",error:""}),y.onPost("".concat(p.d,"/discussion/")).reply(200,{status:"OK",error:""}),u.a.defaults.headers.get["Content-Type"]="application/json",u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.headers.put["Content-Type"]="application/json",u.a.defaults.headers.patch["Content-Type"]="application/json",u.a.defaults.headers.delete["Content-Type"]="application/json";var k=function(){function e(){Object(c.a)(this,e)}return Object(r.a)(e,null,[{key:"getUser",value:function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.get("".concat(p.d,"/user/")).then(e._handleApiResult.bind(null,"getUser")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getProject",value:function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.get("".concat(p.d,"/project/")).then(e._handleApiResult.bind(null,"getProject")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getDeveloper",value:function(){var t=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.get("".concat(p.d,"/developer/")).then(e._handleApiResult.bind(null,"getDeveloper")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getMetaData",value:function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.get("".concat(p.d,"/").concat(a.replace("_","-"),"/")).then(e._handleApiResult.bind(null,"getMetaData")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getData",value:function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.get("".concat(p.d,"/").concat(a,"/")).then(e._handleApiResult.bind(null,"getData")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"putData",value:function(){var t=Object(l.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.put("".concat(p.d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"putData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"patchData",value:function(){var t=Object(l.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.patch("".concat(p.d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"patchData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"deleteData",value:function(){var t=Object(l.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.delete("".concat(p.d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"deleteData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"postData",value:function(){var t=Object(l.a)(i.a.mark((function t(a,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.a.post("".concat(p.d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"postData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"_handleApiResult",value:function(e,t){return console.log(t),p.a?t.data.data:("OK"!==t.data.status&&(d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430"}),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(t.data.error))),["OK","Created","No Content"].includes(t.statusText)||(d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430"}),console.error("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP:  + ".concat(t.statusText))),["OK","Created","No Content"].includes(t.statusText)?t.data:Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432 ".concat(e,": ").concat(t.status," ").concat(t.statusText)))}}]),e}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,s,l,c,r,o,u,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:"initialize","user"!==t){e.next=9;break}return e.next=4,k.getUser();case 4:if("ERROR"===(n=e.sent)){e.next=9;break}return b.b.user=n,b.b.login=n.login,e.abrupt("return",n);case 9:if("project"!==t&&"developer"!==t){e.next=24;break}if("project"!==t){e.next=14;break}return e.next=13,k.getProject();case 13:s=e.sent;case 14:if("developer"!==t){e.next=18;break}return e.next=17,k.getDeveloper();case 17:s=e.sent;case 18:if("ERROR"===s){e.next=22;break}return b.b["".concat(t,"List")]={},s.forEach((function(e){b.b["".concat(t,"List")][e.id]={id:e.id,value:e.value}})),e.abrupt("return",b.b["".concat(t,"List")]);case 22:if(b.b["".concat(t,"List")]&&0!==Object.keys(b.b["".concat(t,"List")]).length){e.next=24;break}throw new Error("Data not uploaded");case 24:if(!p.b.map((function(e){return"".concat(e,"_meta")})).includes(t)){e.next=33;break}if(b.b.tables[t]){e.next=30;break}return e.next=28,k.getMetaData(t);case 28:"ERROR"!==(l=e.sent)&&(b.b.tables[t]={},b.b.tables[t].dataTable={},l.forEach((function(e){var a=Object.keys(e)[0],n=Object.values(e)[0];Object.keys(n).forEach((function(e){b.b.mobile&&"undefined"!==typeof n.showInTableMobile&&(n.showInTable=n.showInTableMobile),"true"===n[e]&&(n[e]=!0),"false"===n[e]&&(n[e]=!1)})),"specificParameters"===a?b.b.tables[t][a]=n:"undefined"!==typeof n.validValues&&""!==n.validValues?b.b.tables[t]["".concat(n.id,"List")]=n.validValues:"undefined"!==typeof n.validValues&&""!==n.validValues||"select"!==n.type&&"multi-select"!==n.type||!n.vocabulary||!b.b["".concat(n.vocabulary,"List")]||(b.b.tables[t]["".concat(n.id,"List")]=b.b["".concat(n.vocabulary,"List")]),"specificParameters"!==a&&(b.b.tables[t].dataTable[n.id]=n)})));case 30:b.b.tables[t]&&t==="".concat(b.b.dataTableName,"_meta")&&(Object.keys(b.b.tables[t]).forEach((function(e){b.b[e]=b.b.tables[t][e]})),Object(b.c)()),Object.keys(b.b.dataTable).forEach((function(e){var t=b.b.dataTable[e];"select"!==t.type&&"multi-select"!==t.type||b.b["".concat(e,"List")]||!t.vocabulary||!b.b["".concat(t.vocabulary,"List")]||(b.b["".concat(e,"List")]=b.b["".concat(t.vocabulary,"List")])})),f.b.setKeys(b.b.dataTable);case 33:if(c=[],!p.b.includes(t)){e.next=43;break}return e.next=37,k.getData(t);case 37:if("ERROR"===(r=e.sent)){e.next=43;break}for("initialize"===a&&Object(b.c)(),o=0;o<r.length;o++){u=r[o];try{u.id=parseInt(u.id,10)}catch(i){console.error("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0435 id \u0441\u0434\u0435\u043b\u0430\u0442\u044c integer")}"meta"===a?(b.b["".concat(t,"List")]||(b.b["".concat(t,"List")]={}),b.b["".concat(t,"List")][u.id]=u):"initialize"===a?b.a.push(u):"direct"===a&&c.push(u)}if("direct"!==a){e.next=43;break}return e.abrupt("return",c);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(t,a,s){var l,c,r,o,u,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=d.length>3&&void 0!==d[3]?d[3]:"task",c={},r=!0,["put","delete","patch","notify"].includes(t)){e.next=7;break}console.error("Mode [".concat(t,"] is not available")),e.next=32;break;case 7:if(e.prev=7,o={feature:l,data:{data:a,id:s}},"put"!==t){e.next=13;break}return e.next=12,k.putData(l,o);case 12:u=e.sent;case 13:if("patch"!==t){e.next=17;break}return e.next=16,k.patchData(l,o);case 16:u=e.sent;case 17:if("delete"!==t){e.next=21;break}return e.next=20,k.deleteData(l,o);case 20:u=e.sent;case 21:if("notify"!==t){e.next=25;break}return e.next=24,k.postData(l,Object(n.a)(Object(n.a)({},o),{},{method:t}));case 24:u=e.sent;case 25:c=u,"ERROR"!==u&&(r=!1),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(7),console.log("Unexpected error ".concat(e.t0));case 32:return e.abrupt("return",[r,c]);case 33:case"end":return e.stop()}}),e,null,[[7,29]])})));return function(t,a,n){return e.apply(this,arguments)}}();function S(e){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(i.a.mark((function e(t){var a,n,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/smisplan/cgi/upload.pl",(a=new FormData).append("file",t),n={},s=!0,e.prev=5,e.next=8,fetch("/smisplan/cgi/upload.pl",{method:"POST",body:a});case 8:if(!(l=e.sent)||!l.ok){e.next=14;break}return e.next=12,l.json();case 12:"OK"===(n=e.sent).status?s=!1:n.error&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(n.error));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Unexpected error ".concat(e.t0));case 19:return e.abrupt("return",[n,s]);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}},244:function(e){e.exports=JSON.parse('{"data":{"username":"\u041f\u0443\u0448\u043a\u0438\u043d","login":"pushkin"}}')},245:function(e){e.exports=JSON.parse('{"data":[{"value":"\u041f\u0443\u0448\u043a\u0438\u043d","id":"pushkin"},{"value":"\u0415\u0441\u0435\u043d\u0438\u043d","id":"esenin"},{"value":"\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432","id":"lermontov"},{"value":"\u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430","id":"akhmatova"},{"value":"\u0411\u0443\u043b\u0433\u0430\u043a\u043e\u0432","id":"bulgakov"},{"value":"\u0426\u0432\u0435\u0442\u0430\u0435\u0432\u0430","id":"tsvetaeva"},{"value":"\u0427\u0430\u0430\u0434\u0430\u0435\u0432","id":"chaadaev"},{"value":"\u0413\u043e\u0440\u044c\u043a\u0438\u0439","id":"gorkiy"},{"value":"\u041a\u0430\u0440\u0435\u043d\u0438\u043d\u0430","id":"Karenina"}]}')},246:function(e){e.exports=JSON.parse('{"data":[{"value":"\u041e\u0442\u0434\u0435\u043b","id":"otdel"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04421","id":"project1"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04422","id":"project2"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04423","id":"project3"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04424","id":"project4"}]}')},247:function(e){e.exports=JSON.parse('{"data":[{"priority":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442","validValues":{"simple":{"value":"\u041d\u0438\u0437\u043a\u0438\u0439","id":"simple"},"medium":{"value":"\u0421\u0440\u0435\u0434\u043d\u0438\u0439","id":"medium"},"hard":{"value":"\u0412\u044b\u0441\u043e\u043a\u0438\u0439","id":"hard"}},"isFilter":"true","hasFullTextLink":"false","showInTableMobile":"false","tableIndex":6,"id":"priority","type":"select","defaultValue":"simple"}},{"status":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0442\u0430\u0442\u0443\u0441","validValues":{"postponed":{"value":"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u0430","id":"postponed"},"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"accepted":{"value":"\u041f\u0440\u0438\u043d\u044f\u0442\u0430","id":"accepted"},"new":{"value":"\u041d\u043e\u0432\u0430\u044f","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"isFilter":"true","hasFullTextLink":"false","showInTableMobile":"false","tableIndex":7,"id":"status","type":"select","defaultValue":"new"}},{"project":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041f\u0440\u043e\u0435\u043a\u0442","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"true","tableIndex":2,"id":"project","type":"select","defaultValue":"otdel"}},{"dateEnd":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0440\u043e\u043a","validValues":"","isFilter":"true","hasFullTextLink":"false","tableIndex":10,"id":"dateEnd","type":"date","defaultValue":""}},{"description":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","validValues":"","isFilter":"false","hasFullTextLink":"false","tableIndex":4,"id":"description","type":"fulltext","defaultValue":""}},{"developer":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"true","addMenuIndex":"2","tableIndex":8,"id":"developer","type":"select","defaultValue":""}},{"dateStart":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b","validValues":"","isFilter":"true","hasFullTextLink":"false","tableIndex":9,"id":"dateStart","type":"date","defaultValue":"date"}},{"title":{"isInlineEditable":"true","showInTable":"true","isEditable":"true","value":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","validValues":"","isFilter":"false","hasFullTextLink":"true","addMenuIndex":"1","tableIndex":3,"id":"title","type":"string","defaultValue":""}},{"id":{"isInlineEditable":"false","showInTable":"true","isEditable":"false","value":"ID","validValues":"","isFilter":"false","hasFullTextLink":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"result":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","validValues":"","isFilter":"false","tableIndex":5,"id":"result","type":"string","defaultValue":"empty"}},{"specificParameters":{"hasEditMenu":"true","hasDeleteButton":"true","defaultSortField":"id","defaultSortDirection":"desc","hasQuestions":"false","hasSetStatusMenu":"true","hasGoToDiscussion":"true","hasTitleRow":"false","addMenuTitle":"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430","hasAddMenu":"true","hasDoneButton":"true","tableName":"\u0417\u0430\u0434\u0430\u0447\u0438","hasSublistData":"false","haveDiscussion":"true","mainValue":"title"}}]}')},248:function(e){e.exports=JSON.parse('{"data":[{"status":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0442\u0430\u0442\u0443\u0441","validValues":{"postponed":{"value":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043e","id":"postponed"},"done":{"value":"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e","id":"done"},"rejected":{"value":"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e","id":"rejected"},"new":{"value":"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e","id":"new"}},"isFilter":"true","showInTableMobile":"false","tableIndex":11,"id":"status","type":"select","defaultValue":"new"}},{"time":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0412\u0440\u0435\u043c\u044f","validValues":"","isFilter":"false","addMenuIndex":"4","tableIndex":3,"id":"time","type":"time","defaultValue":""}},{"date":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0414\u0430\u0442\u0430","validValues":"","isFilter":"true","isGroup":"true","addMenuIndex":"3","tableIndex":2,"id":"date","type":"date","defaultValue":""}},{"participants":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","initialValue":"object:data,field:developer","value":"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438","validValues":"","isFilter":"false","isSelectCreatable":"true","tableIndex":9,"id":"participants","type":"multi-select","defaultValue":"","vocabulary":"developer"}},{"mainTable":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"\u0422\u0438\u043f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","validValues":"","isFilter":"false","tableIndex":10,"id":"mainTable","type":"string","defaultValue":"object:meta,field:dataTableName"}},{"theme":{"isInlineEditable":"true","showInTable":"true","isEditable":"true","value":"\u0422\u0435\u043c\u0430","validValues":"","isFilter":"true","hasFullTextLink":"true","isGroup":"true","addMenuIndex":"1","tableIndex":5,"id":"theme","type":"string","defaultValue":"object:data,field:value"}},{"responsible":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","validValues":"","isFilter":"true","addMenuIndex":"2","tableIndex":8,"id":"responsible","type":"select","defaultValue":"","vocabulary":"developer"}},{"week":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"\u043d\u0435\u0434\u0435\u043b\u044f","validValues":"","isFilter":"false","isGroup":"true","tableIndex":13,"id":"week","type":"string","defaultValue":"false"}},{"mainQuestions":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"false","tableIndex":6,"id":"mainQuestions","type":"string","defaultValue":" "}},{"type":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0424\u043e\u0440\u043c\u0430\u0442","validValues":{"offsite":{"value":"\u0412\u044b\u0435\u0437\u0434\u043d\u043e\u0435","id":"offsite"},"otdel":{"value":"\u041e\u0442\u0434\u0435\u043b","id":"otdel"},"zoom":{"value":"Zoom","id":"zoom"},"offline":{"value":"\u0417\u0430\u043e\u0447\u043d\u043e\u0435","id":"offline"},"mixed":{"value":"\u041e\u0442\u0434\u0435\u043b+zoom","id":"mixed"}},"isFilter":"true","isSelectCreatable":"true","showInTableMobile":"false","tableIndex":12,"id":"type","type":"select","defaultValue":"otdel"}},{"videoConf":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0412\u0438\u0434\u0435\u043e\u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"false","tableIndex":13,"id":"videoConf","type":"string","defaultValue":" "}},{"idTask":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"ID \u0437\u0430\u0434\u0430\u0447\u0438","validValues":"","isFilter":"false","tableIndex":4,"id":"idTask","type":"int","defaultValue":"object:data,field:id"}},{"id":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"ID","validValues":"","isFilter":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"result":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","validValues":"","isFilter":"false","hasFileUploader":"true","tableIndex":7,"id":"result","type":"fulltext","defaultValue":"empty"}},{"specificParameters":{"hasEditMenu":"true","hasDeleteButton":"true","hasEditMenuSaveAsNew":"true","hasNotificationButton":"true","defaultSortField":"week,date,time","defaultSortDirection":"desc,asc,asc","hasQuestions":"false","hasSetStatusMenu":"true","defaultGroupField":"week","hasTitleRow":"false","hasAddMenu":"true","hasDoneButton":"false","tableName":"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","hasSublistData":"true","mainValue":"theme","addMenuTitle":"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0432\u0435\u0449\u0430\u043d\u0438\u0435"}}]}')},249:function(e){e.exports=JSON.parse('{"data":[{"date":{"value":"\u0414\u0430\u0442\u0430","type":"date","id":"date"}},{"time":{"value":"\u0412\u0440\u0435\u043c\u044f","type":"time","id":"time"}},{"description":{"value":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","type":"string","id":"description"}},{"specificParameters":{"hasEditMenu":"false","hasDeleteButton":"false","defaultSortField":"date","defaultSortDirection":"desc","hasTitleRow":"false","hasDoneButton":"false","hasAddMenu":"false","hasSpecNotes":"false"}}]}')},250:function(e){e.exports=JSON.parse('{"data":[{"status_new":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"new":{"value":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"value":"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u043e\u0432\u044b\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":8,"id":"status_new","type":"select","defaultValue":"new"}},{"dt":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":7,"id":"dt","type":"datetime","defaultValue":""}},{"change_all":{"showInTable":"false","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","isFilter":"false","hasFullTextLink":"false","tableIndex":8,"id":"change_all","type":"fulltext","defaultValue":""}},{"developer":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","isFilter":"false","hasFullTextLink":"false","tableIndex":5,"id":"developer","type":"select","defaultValue":""}},{"task_id":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"ID \u0437\u0430\u0434\u0430\u0447\u0438","isFilter":"false","hasFullTextLink":"false","tableIndex":4,"id":"task_id","type":"int","defaultValue":""}},{"mainTable":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"task":{"value":"\u0417\u0430\u0434\u0430\u0447\u0438","id":"task"},"discussion":{"value":"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","id":"discussion"}},"value":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430","isFilter":"true","hasFullTextLink":"false","tableIndex":3,"id":"mainTable","type":"select","defaultValue":"task"}},{"theme":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0422\u0435\u043c\u0430","isFilter":"false","hasFullTextLink":"true","tableIndex":6,"id":"theme","type":"string","defaultValue":""}},{"project":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u041f\u0440\u043e\u0435\u043a\u0442","isFilter":"false","hasFullTextLink":"false","tableIndex":5,"id":"project","type":"select","defaultValue":"otdel"}},{"event":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"del":{"value":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435","id":"del"},"put":{"value":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435","id":"put"},"upd":{"value":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435","id":"upd"}},"value":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435","isFilter":"true","hasFullTextLink":"false","tableIndex":2,"id":"event","type":"select","defaultValue":""}},{"status_old":{"showInTable":"false","isInlineEditable":"false","isEditable":"false","validValues":{"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"new":{"value":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"value":"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0442\u0430\u0440\u044b\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":9,"id":"status_old","type":"select","defaultValue":"new"}},{"id":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"ID","isFilter":"false","hasFullTextLink":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"specificParameters":{"hasEditMenu":"false","hasDeleteButton":"false","defaultSortField":"dt","defaultSortDirection":"desc","hasTitleRow":"false","tableName":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","hasDoneButton":"false","hasAddMenu":"false","hasSpecNotes":"false"}}]}')},251:function(e){e.exports=JSON.parse('{"data":[{"priority":"hard","status":"work","project":"project1","value":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 \u0441\u0442\u0438\u0445\u0438","dateEnd":"2021-09-01","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0433\u043e\u0434\u0443 \u0433\u043e\u0434\u0443","developer":"esenin","dateStart":"2021-04-01","id":"3","title":"\u0411\u0443\u0434\u0443\u0449\u0438\u0435 \u0441\u0442\u0438\u0445\u0438","result":null},{"priority":"hard","status":"work","project":"project1","value":"\u042f \u043f\u043e\u043c\u043d\u044e \u0447\u0443\u0434\u043d\u043e\u0435 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u044c\u0435...","dateEnd":"2021-04-01","description":"... \u041f\u0435\u0440\u0435\u0434\u043e \u043c\u043d\u043e\u0439 \u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0442\u044b","developer":"pushkin","dateStart":"2021-04-01","id":"2","title":"\u042f \u043f\u043e\u043c\u043d\u044e \u0447\u0443\u0434\u043d\u043e\u0435 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u044c\u0435...","result":null},{"priority":"simple","status":"done","project":"otdel","value":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","dateEnd":"2021-04-01","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","developer":"pushkin","dateStart":"2021-04-01","id":"1","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","result":null}]}')},252:function(e){e.exports=JSON.parse('{"data":[{"responsible":"pushkin","status":"done","value":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","time":"16:55:00","week":"2020.3","date":"2020-07-21","mainQuestions":"\u041a\u0442\u043e \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442 \u0432\u044b\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0441\u0431\u043e\u0440\u043d\u0438\u043a\u0438 \u0441\u0442\u0438\u0445\u043e\u0432 \u0438 \u043a\u043e\u0433\u0434\u0430","participants":"pushkin,tsvetaeva,akhmatova","type":"zoom","mainTable":"task","id":"1","idTask":"1","videoConf":"","result":"\u041e\u0431\u0441\u0443\u0434\u0438\u043b\u0438 \u043a\u0442\u043e \u0438 \u043a\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0441\u0431\u043e\u0440\u043d\u0438\u043a\u0438 \u0441\u0442\u0438\u0445\u043e\u0432: \u0426\u0432\u0435\u0442\u0430\u0435\u0432\u0430 \u0432 \u043e\u043a\u0442\u044f\u0431\u0440\u0435, \u0410\u0445\u043c\u0430\u0442\u043e\u0432 \u0432 \u043d\u043e\u044f\u0431\u0440\u0435","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443"}]}')},253:function(e){e.exports=JSON.parse('{"data":[{"responsible":"pushkin","status":"done","time":"14:30:00","date":"2021-08-30","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","participants":"pushkin,tsvetaeva,akhmatova","type":"zoom","id":"1","mainTable":"task","idTask":"1","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","result":""}]}')},254:function(e){e.exports=JSON.parse('{"data":[{"project":null,"dt":"2021-08-29 19:26:30","event":"put","task_id":"1","developer":"pushkin","change_all":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f: \\n \u0414\u0430\u0442\u0430: 2021-08-31 \u2192 2021-09-01 \\n","status_old":"new","status_new":"new","id":"1","mainTable":"task","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432"}]}')},264:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var n=a(21),s=a.n(n),i=a(109),l=a(88),c=a(11),r=a(0),o=a.n(r),u=a(4),d=a(18),b=a(10),f=a(23),p=a(8),h=a(38),j=a(317),v=a(340),m=a(321),O=a(26),x=a(2);function g(e){var t=e.reloadDataTable,a=-1!==window.location.href.search(/localhost:3000/)?"":"smisplan",n=function(e){var t=e.split("/").slice(1);return t[0]===a&&t.shift(),t[0]},s=n(document.location.pathname),l=o.a.useState("".concat(a&&"/".concat(a),"/").concat(d.b.includes(s)?s:"task")),u=Object(c.a)(l,2),f=u[0],g=u[1],y=function(e,a){g(a);var s=n(a);b.b.clearAll(),t(s)};return o.a.useEffect((function(){var e=function(){p.a.table.subscribe((function(){var e=p.a.table.getState().TABLE.tableName;e&&g("".concat(a&&"/".concat(a),"/").concat(e))}))};return e(),e()}),[a]),Object(x.jsx)(j.a,{position:"static",className:"header-modes-projects__bar",color:"default",children:Object(x.jsx)(O.b,{path:"/",render:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v.a,{value:f,onChange:y,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example",children:d.c.map((function(e,t){return Object(r.createElement)(m.a,Object(h.a)(Object(h.a)({className:"header-modes-projects__modes-item",label:e.value},function(e){return{id:"modes-tab-".concat(e),"aria-controls":"modes-tabpanel-".concat(e)}}(t)),{},{key:e.id,disabled:e.disabled,value:"".concat(a&&"/".concat(a),"/").concat(e.id),to:"".concat(a&&"/".concat(a),"/").concat(e.id),component:i.b}))}))}),Object(x.jsxs)(O.d,{children:[d.c.map((function(e){return Object(x.jsx)(O.b,{path:"".concat(a&&"/".concat(a),"/").concat(e.id)},"Link-".concat(e.id))})),Object(x.jsx)(O.a,{to:"".concat(a&&"/".concat(a),"/").concat(s)})]})]})}})})}var y=o.a.memo(g);function k(e){return{id:"projects-tab-".concat(e),"aria-controls":"projects-tabpanel-".concat(e)}}function w(e){var t=e.dataTable,a=e.projectList,n=o.a.useState(0),s=Object(c.a)(n,2),i=s[0],l=s[1],u=o.a.useState(Object.values(a||{})),d=Object(c.a)(u,2),O=d[0],g=d[1],y=function(){var e={};t.forEach((function(t){e[t.project]=!0}));var n={},s={};Object.keys(a).forEach((function(t){var i=Object(h.a)({},a[t]);e[t]&&!n[t]&&(i.showAsDisabled=!1,n[t]=i),e[t]||s[t]||(i.showAsDisabled=!0,s[t]=i)}));var i=[];Object.values(n).sort((function(e,t){return e.value>=t.value?1:-1})).map((function(e){return i.push(e)})),Object.values(s).sort((function(e,t){return e.value>=t.value?1:-1})).map((function(e){return i.push(e)})),g(i)},w=p.a.state.subscribe((function(){var e=p.a.state.getState().STATE.dataLoading;e&&"data"===e&&(l(0),y())})),T=p.a.upd.subscribe((function(){p.a.upd.getState().UPD.update&&y()})),S=p.a.data.subscribe((function(){p.a.data.getState().DATA.redraw&&(!b.b.data.project||""===b.b.data.project)&&i>0&&l(0)}));o.a.useEffect((function(){return Object(f.c)("project").then((function(e){return g(Object.values(e))})),w(),T(),S(),function(){w(),T(),S()}}),[]);var _={};return Object(x.jsx)(j.a,{position:"static",className:"header-modes-projects__bar",color:"default",children:Object(x.jsxs)(v.a,{value:i,onChange:function(e,t){b.b.setValue("data","project",0===t?"":O[t-1].id),p.a.data.dispatch({type:"REDRAW",redraw:!0}),l(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example",children:[Object(r.createElement)(m.a,Object(h.a)(Object(h.a)({label:"\u0412\u0441\u0435"},k(0)),{},{key:"all",classes:{root:_.tabStyles},className:"header-modes-projects__modes-item"})),O.map((function(e,t){return Object(r.createElement)(m.a,Object(h.a)(Object(h.a)({label:e.value},k(t+1)),{},{key:e.id,disabled:e.showAsDisabled,classes:{root:_.tabStyles},className:"header-modes-projects__modes-item"}))}))]})})}var T=o.a.memo(w);a(264);function S(e){var t=e.dataTable,a=e.projectList,n=e.reloadDataTable;return Object(x.jsxs)("div",{className:"header-modes-projects",children:[Object(x.jsx)(y,{reloadDataTable:n}),Object(x.jsx)(T,{className:"divProjectList",dataTable:t,projectList:a})]})}var _=o.a.memo(S),D=a(287),E=a(117),I=a(104),L=a.n(I),N=a(110),R=a.n(N),A=a(153),P=a.n(A),F=a(196),M=a(323),C=a(93),V=a.n(C),Y=a(22),z=a(343);function W(e){var t=e.itemsList,a=e.name,n=e.onChange,s=e.hasStartCheckbox,i=e.checkFunction;return t.map((function(e){var t=n.bind(null,e.id);return Object(x.jsxs)(M.a,{style:{backgroundColor:b.b.data[a]===e.id?"var(--color-active)":""},onClick:t,children:[s&&Object(x.jsx)(z.a,{className:"menu-item-settings__menu-checkbox",edge:"start",checked:i(e.id),tabIndex:-1,disableRipple:!0}),e.value]},"menu-".concat(a,"-").concat(e.id))}))}var H=o.a.memo(W);a(266);var B=function(e){var t=o.a.useState(null),a=Object(c.a)(t,2),n=a[0],s=a[1],i=o.a.useState(null),l=Object(c.a)(i,2),r=l[0],d=l[1],b=o.a.useState(null),f=Object(c.a)(b,2),h=f[0],j=f[1],v=o.a.useState([]),m=Object(c.a)(v,2),O=m[0],g=m[1],y=p.a.state.subscribe((function(){var e=p.a.state.getState().STATE.dataLoading;e&&"data"===e&&g(Object.keys(u.b.dataTable).filter((function(e){return u.b.dataTable[e].showInTable})))}));o.a.useEffect((function(){return y(),y}),[]);var k=function(e){return function(t){return e(t.currentTarget)}},w=function(e,t){return function(){return e(t)}},T=Object.values(u.b.dataTable).filter((function(e){return e.value&&""!==e.value})).sort((function(e,t){return e.value>=t.value?1:-1}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(Y.a,{class:"icn_settings",tip:"\u041e\u043f\u0446\u0438\u0438 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",fontSize:"large",action:k(s)}),Object(x.jsxs)(F.a,{anchorEl:n,keepMounted:!0,open:!!n,onClose:w(s,null),className:"menu-item-settings",children:[Object(x.jsxs)(M.a,{className:"menu-item-settings__item",onClick:k(d),children:[Object(x.jsx)("div",{children:"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430"}),Object(x.jsx)(V.a,{fontSize:"medium"})]}),Object(x.jsx)(F.a,{anchorEl:r,keepMounted:!0,open:!!r,onClose:w(d,null),className:"menu-item-settings__item-menu",children:Object(x.jsx)(H,{itemsList:[{id:"standart",value:"\u0421\u0442\u0430\u043d\u0434a\u0440\u0442\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430"},{id:"red",value:"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430"},{id:"blue",value:"\u0421\u0438\u043d\u044f\u044f \u0441\u0445\u0435\u043c\u0430"}],name:e.name,onChange:function(e){var t=document.documentElement,a=getComputedStyle(t).getPropertyValue("--icons-filter-".concat(e));t.style.setProperty("--icons-filter",a);var n=getComputedStyle(t).getPropertyValue("--hover-filter-".concat(e));t.style.setProperty("--hover-filter",n),d(null),s(null)}})}),Object(x.jsxs)(M.a,{className:"menu-item-settings__item",onClick:k(j),children:[Object(x.jsx)("div",{children:"\u041a\u043e\u043b\u043e\u043d\u043a\u0438"}),Object(x.jsx)(V.a,{fontSize:"medium"})]}),Object(x.jsx)(F.a,{anchorEl:h,keepMounted:!0,open:!!h,onClose:w(j,null),className:"menu-item-settings__item-menu",children:Object(x.jsx)(H,{itemsList:T,name:e.name,onChange:function(e){var t=[];O.includes(e)?(u.b.dataTable[e].showInTable=!1,t=O.filter((function(t){return t!==e}))):(u.b.dataTable[e].showInTable=!0,t=O.concat(e)),p.a.state.dispatch({type:"SET_DATALOADING",stage:"meta"}),g(t),j(null),s(null)},hasStartCheckbox:!0,checkFunction:function(e){return O.includes(e)}})}),Object(x.jsx)(M.a,{onClick:w(s,null),children:Object(x.jsx)("div",{className:"menu-item-settings__item",children:"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"})},"manual")]})]})},G=a(325),$=a(51),K=a(99);a(267);function U(e){var t=o.a.useState(null),a=Object(c.a)(t,2),n=a[0],s=a[1],i=new K.a,l=i.getWeek(),r=function(t){return function(){"notification"===t?function(){p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."});var e={week:"".concat(i.getFullYear(),".").concat(l+(i.getDay()>=5?1:0)),mode:"done",feature:"discussion"};Object(f.a)("notify",e,void 0,"notification").then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))}():"discussion"===t&&e.reloadDataTable("discussion",(function(){b.b.data.week="".concat(i.getFullYear(),".").concat(l+(i.getDay()>=5?1:0))})),s(null)}};return Object(x.jsxs)("div",{children:[Object(x.jsx)(Y.a,{class:e.class,tip:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430",fontSize:"large",action:function(e){return s(e.currentTarget)}}),Object(x.jsxs)(F.a,{id:"filter-menu-id-".concat(e.name),anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){return s(null)},className:"menu-item-chief",children:[Object(x.jsxs)(M.a,{onClick:r("discussion"),children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(Y.a,{class:"icn_discussionList",tip:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"})}),Object(x.jsx)($.a,{variant:"inherit",noWrap:!0,children:"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439"})]},"menu-".concat(e.name,"-discussion")),Object(x.jsxs)(M.a,{onClick:r("notification"),children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(Y.a,{class:"icn_notification",tip:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u0435\u0434\u0435\u043b\u0435"})}),Object(x.jsx)($.a,{variant:"inherit",noWrap:!0,children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445"})]},"menu-".concat(e.name,"-notification"))]})]})}var J=o.a.memo(U);a(268);function q(e){var t=e.reloadDataTable,a=e.dataRef,n=o.a.useState(""),s=Object(c.a)(n,2),i=s[0],l=s[1],r=o.a.useRef(null);o.a.useEffect((function(){Object(f.c)("user").then((function(e){return l(e.username)}))}),[]);return Object(x.jsxs)("div",{className:"header-login",children:[Object(x.jsxs)("div",{className:"header-login__menu",children:[Object(x.jsx)(P.a,{trigger:function(){return Object(x.jsx)(D.a,{title:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c",children:Object(x.jsx)(E.a,{className:"icn",style:{padding:"0px"},children:Object(x.jsx)(L.a,{fontSize:"large"})})})},content:function(){return a.current}}),Object(x.jsx)(B,{ref:r,class:"icn_filter",name:"MenuSettings"}),Object(x.jsx)(J,{class:"icn_chief",name:"MenuChief",reloadDataTable:t}),Object(x.jsx)(D.a,{title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b",children:Object(x.jsx)(E.a,{className:"icn",style:{padding:"0px"},onClick:function(){b.b.clear(),p.a.data.dispatch({type:"REDRAW",redraw:!0})},children:Object(x.jsx)(R.a,{fontSize:"large"})})})]}),Object(x.jsxs)("div",{className:"header-login__login",children:[Object(x.jsx)("b",{children:"\u041b\u043e\u0433\u0438\u043d"}),": ",i]})]})}var Q=o.a.memo(q),Z=a(328),X=a(324),ee=a(278),te=a(326),ae=a(327);a(269);function ne(e){var t=o.a.useState([]),a=Object(c.a)(t,2),n=a[0],s=a[1];return Object(x.jsx)(X.a,{dense:!0,className:"checkbox-list-filter",children:e.options.map((function(t){var a,i="divider"!==t?e.optionsMap[t]:null,c="divider"!==t?"checkbox-list-label-".concat(i.id):null;return"divider"!==t?Object(x.jsxs)(ee.a,{role:void 0,size:"small",className:"checkbox-list-filter__list-item",button:!0,onClick:(a=i.id,function(){if(""!==a){var t=n.indexOf(a),i=Object(l.a)(n);-1===t?i.push(a):i.splice(t,1),b.b.setValue("data",e.filterType,Object(l.a)(i)),p.a.data.dispatch({type:"REDRAW",redraw:!0}),s(i)}else p.a.data.dispatch({type:"REDRAW",redraw:!0}),e.updateData()}),children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(z.a,{className:"checkbox-list-filter__checkbox",edge:"start",checked:n.includes(i.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":c}})}),Object(x.jsx)(te.a,{id:c,primary:"".concat(i.value),className:"checkbox-list-filter__text"})]},i.id):Object(x.jsx)(ae.a,{},"divider")}))})}var se=o.a.memo(ne);function ie(e){var t=e.inputFilter,a=e.developersList,n=e.metaData,s=e.dataTable,i=o.a.useState(a),l=Object(c.a)(i,2),r=l[0],u=l[1],d=function(e){var t=[];s&&s.forEach((function(e){e.author&&""!==e.author&&!t.includes(e.author)&&t.push(e.author),e.developer&&""!==e.developer&&!t.includes(e.developer)&&t.push(e.developer)}));var a={},n={};return Object.keys(e).length>0&&Object.keys(e).forEach((function(s){t.includes(s)?a[s]=e[s]:n[s]=e[s]})),[a,n]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.developerList,t=d(e),a=[];return Object.keys(t[0]).length>0?(Object.keys(t[0]).sort((function(e,a){return t[0][e].value>=t[0][a].value?1:-1})).map((function(e){return a.push(e)})),a.push("divider"),Object.keys(t[1]).sort((function(e,a){return t[1][e].value>=t[1][a].value?1:-1})).map((function(e){return a.push(e)}))):Object.keys(t[1]).length>0?Object.keys(t[1]).sort((function(e,a){return t[1][e].value>=t[1][a].value?1:-1})).map((function(e){return a.push(e)})):Object.keys(e).sort((function(t,a){return e[t].value>=e[a].value?1:-1})).map((function(e){return a.push(e)})),a};return o.a.useEffect((function(){var e=p.a.state.subscribe((function(){var e=p.a.state.getState().STATE.dataLoading;e&&"data"===e&&u(f()),t&&(b.b.setValue("data","developer",[t]),p.a.data.dispatch({type:"REDRAW",redraw:!0}))})),a=p.a.upd.subscribe((function(){p.a.upd.getState().UPD.update&&u(f())}));return function(){e(),a()}}),[]),Object(x.jsx)(se,{options:r,optionsMap:n.developerList,inputFilter:t,filterType:"developer"})}a(270);function le(e){var t=e.developers,a=e.developer,n=e.metaData,s=e.dataTable,i=o.a.useState(!0),l=Object(c.a)(i,2),r=l[0],u=l[1],d=function(e){var t=document.documentElement,a=getComputedStyle(t).getPropertyValue("--width-left-side");t.style.setProperty("--width-left-side-bottom",e?a:"0px"),u(e)};o.a.useEffect((function(){return p.a.state.subscribe((function(){var e=p.a.state.getState().STATE.dataLoading;e&&"data"===e&&(["discussion","calendar"].includes(n.dataTableName)?d(!1):d(!0))}))}),[]);var b=Object.values(t).map((function(e){return{id:e.id,value:e.value}}));return[Object(x.jsx)(Z.a,{variant:"persistent",anchor:"left",open:r,classes:{paper:"left-side-bar"},children:Object(x.jsx)(ie,{inputFilter:a,developersList:b,metaData:n,dataTable:s})},"leftSideDrawer"),Object(x.jsx)("div",{className:"divSpacingBottom",children:Object(x.jsx)(Y.a,{class:"".concat(r?"icn_arrow_left_fill":"icn_arrow_right_fill"),tip:"".concat(r?"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"),fontSize:"large",action:function(){return d(!r)},style:{borderRadius:"0px"}})},"showHideButton")]}var ce=o.a.memo(le),re=a(329);function oe(){return Object(x.jsxs)("div",{style:{textAlign:"center",paddingTop:"200px"},children:[Object(x.jsx)(re.a,{style:{width:"100px",height:"100px"}}),";"]})}var ue=a(97),de=a(20),be=a.n(de),fe=a(33),pe=a(56),he=a(76),je=a(102),ve=a(77),me=a(78),Oe=a(337),xe=a(338),ge=a(333),ye=a(334),ke=a(339),we=a(331),Te=a(285),Se=a(28),_e=a.n(Se),De=(a(202),a(345)),Ee=a(135),Ie=a(35),Le=a(330);function Ne(e){var t=e.type,a=e.name,n=e.itemList,s=e.action,i=e.all,l=e.noClosed,r=o.a.useState(null),u=Object(c.a)(r,2),d=u[0],f=u[1],p=o.a.useState(b.b.data[a]),h=Object(c.a)(p,2),j=h[0],v=h[1],m=function(e){return f(e.currentTarget)},O=function(e,a){"filter"===t?("object"!==typeof n&&["datetime","date"].includes(n)&&v(a),"all"===a?b.b.data={}:"noClosed"===a&&"object"===typeof n?(b.b.data[e]=[],Object.values(n).filter((function(e){return"done"!==e.id})).forEach((function(t){return b.b.data[e].push(t.id)}))):b.b.data[e]=a,s(Object(b.a)())):"group"===t&&s(a),f(null)};return Object(x.jsxs)("div",{children:["filter"===t&&Object(x.jsx)(Y.a,{class:"icn_filter",tip:"\u0444\u0438\u043b\u044c\u0442\u0440",action:m}),"group"===t&&Object(x.jsx)(Y.a,{class:"icn_group",tip:"\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",action:m}),Object(x.jsxs)(F.a,{id:"filter-menu-id-".concat(a),anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){return f(null)},className:"tbl-header-btn-menu",children:[i&&Object(x.jsx)(M.a,{onClick:function(){return O(a,"all")},children:"\u0412\u0441\u0435"}),l&&"status"===a&&Object(x.jsx)(M.a,{onClick:function(){return O(a,"noClosed")},children:"\u0412\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435"}),"object"===typeof n&&Object(x.jsx)(H,{itemsList:Object.values(n),name:a,onChange:function(e){return O(a,n[e].id)}}),"object"!==typeof n&&"datetime"===n&&Object(x.jsx)(M.a,{children:Object(x.jsx)(Ie.a,{utils:Ee.a,style:{width:"0px",margin:"0px",marginLeft:"-18px"},className:"tbl-header-btn-menu__datepicker",children:Object(x.jsx)(Le.a,{format:"YYYY-MM-DD",margin:"normal",onChange:function(e,t){O(a,t)},value:j,style:{width:"0px",margin:"0px",marginLeft:"-18px"},className:"tbl-header-btn-menu__datepicker"})})})]})]})}var Re=o.a.memo(Ne),Ae=function(e){Object(ve.a)(a,e);var t=Object(me.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).setCoumnWidth=function(e){n.widths={},Object.keys(e).forEach((function(t){e[t].showInTable&&(n.widths[t]=n.getColumnWidth(e[t]))})),n.hasAdditionalCell=function(e){var t=!1;return e&&(e.hasSpecAction||e.hasSpecNotes||e.hasEditMenu||e.hasDeleteButton||e.hasDoneButton)&&(t=!0),t}(u.b.specificParameters)},n.createSortHandler=function(e){return function(t){(0,n.props.onRequestSort)(t,e)}},n.createGroupHandler=function(e){var t=n.props;(0,t.onRequestGroup)(void 0,t.groupBy===e?"":e)},n.handleDateFilter=function(e,t){var a=n.props.onFilter,s={};s[e]=t,n.setState(s),b.b.setValue("data",e,t),a(Object(b.a)())},n.getColumnWidth=function(e){var t="",a=e.value.length*(window.innerWidth<=1400?8:10)+24;switch(e.isFilter&&!u.b.mobile&&(a+=30),e.isGroup&&!u.b.mobile&&(a+=30),e.type){case"int":t=a>45?"".concat(a,"px"):"45px";break;case"string":e.isInlineEditable||"theme"===e.id||(t=window.innerWidth<=1400?a>90?"".concat(a,"px"):"90px":a>110?"".concat(a,"px"):"110px");break;case"select":e.isInlineEditable||(t=window.innerWidth<=1400?a>105?"".concat(a,"px"):"105px":a>120?"".concat(a,"px"):"120px");break;case"multi-select":e.isInlineEditable||(t=window.innerWidth<=1400?a>155?"".concat(a,"px"):"155px":a>170?"".concat(a,"px"):"170px");break;case"datetime":case"date":case"time":e.isInlineEditable||(t=window.innerWidth<=1400?a>80?"".concat(a,"px"):"80px":a>100?"".concat(a,"px"):"100px");break;default:t=""}return t},n.state={isHovered:""},n}return Object(he.a)(a,[{key:"render",value:function(){var e=this;this.setCoumnWidth(u.b.dataTable);var t=this.props,a=t.order,n=t.orderBy,s=t.groupBy,i=t.headCells,l=this.state.isHovered,c={};return this.props.sort.forEach((function(e){c[e.field]=e})),Object(x.jsxs)(ge.a,{className:"data-table__header-row",children:[Object.values(i).filter((function(e){return e.showInTable})).sort((function(e,t){return e.tableIndex>=t.tableIndex?1:-1})).map((function(t,i){var o=l===t.id||b.b.checkFilter(t.id)&&""!==b.b.data[t.id]?"visible":"hidden",d=l===t.id||s&&s===t.id?"visible":"hidden",f=0===i?"10px":"0px",p="theme"===t.id?"220px":"",h=e.widths[t.id],j=-1!==["datetime","date"].indexOf(t.type)?"datetime":u.b["".concat(t.id,"List")],v={};return t.isGroup&&(v[t.id]={id:t.id,value:t.value},"date"===t.type&&(v.week={id:"week",value:"\u041d\u0435\u0434\u0435\u043b\u044f"})),Object(x.jsxs)(r.Fragment,{children:[Object(x.jsxs)(ye.a,{align:"left",padding:"none",className:"data-table__header-cell",style:{minWidth:p,width:h,maxWidth:"",paddingLeft:f},onMouseEnter:function(){return e.setState({isHovered:t.id})},onMouseLeave:function(){return e.setState({isHovered:void 0})},sortDirection:n===t.id&&a,children:[Object(x.jsxs)(De.a,{active:!!c[t.id],direction:c[t.id]?c[t.id].order:"asc",onClick:e.createSortHandler(t.id),children:[t.value,c[t.id]?Object(x.jsx)("span",{}):null]}),t.isGroup&&!u.b.mobile&&Object(x.jsx)("div",{className:"data-table__pagination-button ".concat("visible"===d?"visible":"invisible"),children:Object(x.jsx)(Re,{class:"icn_filter",name:t.id,action:e.createGroupHandler,type:"group",itemList:v})}),t.isFilter&&!u.b.mobile&&Object(x.jsx)("div",{className:"data-table__pagination-button ".concat("visible"===o?"visible":"invisible"),children:Object(x.jsx)(Re,{class:"icn_filter",name:t.id,action:e.props.onFilter,all:!0,noClosed:!0,type:"filter",itemList:j})})]}),t.isInlineEditable&&"string"===t.type&&Object(x.jsx)(ye.a,{style:{width:"10px"}})]},t.id)})),this.hasAdditionalCell&&Object(x.jsx)(ye.a,{style:{width:u.b.table?"53px":"1px"}})]})}}]),a}(o.a.PureComponent);function Pe(e){var t=o.a.useState(""),a=Object(c.a)(t,2),n=a[0],s=a[1],i=function(){s(""),e.setSearch("")},l=function(){return e.setSearch(n)};return Object(x.jsx)(we.a,{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",value:n,inputProps:{style:{fontSize:"var(--font-size-table)",width:"200px"}},onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&l(),"Escape"===e.key&&i()},startAdornment:Object(x.jsx)(Te.a,{position:"start",children:Object(x.jsx)(Y.a,{class:"icn_search",tip:"\u041d\u0430\u0439\u0442\u0438",action:l})}),endAdornment:Object(x.jsx)(Te.a,{position:"end",children:Object(x.jsx)(Y.a,{class:"icn_clear",tip:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a",action:i})})})}var Fe=o.a.memo(Pe),Me=a(346),Ce=a(191),Ve=a.n(Ce),Ye=a(194),ze=a.n(Ye),We=a(192),He=a.n(We),Be=a(193),Ge=a.n(Be);function $e(e){var t=e.count,a=e.page,n=e.rowsPerPage,s=e.onChangePage,i=e.onChangeRowsPerPage,l=Math.ceil(t/n),c=function(e){return s(e,0)},r=function(e){return s(e,a-1)},o=function(e){return s(e,a+1)},u=function(e){return s(e,l-1)};return Object(x.jsx)(Me.a,{rowsPerPageOptions:[50,100,200],component:"div",count:t,rowsPerPage:n,page:a,onPageChange:s,onRowsPerPageChange:i,labelRowsPerPage:"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e",labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," \u0438\u0437 ").concat(n)},backIconButtonProps:{style:{paddingTop:"0px",paddingBottom:"0px"}},nextIconButtonProps:{style:{paddingTop:"0px",paddingBottom:"0px"}},classes:{toolbar:"data-table__pagination-toolbar",select:"data-table__pagination-select"},className:"data-table__pagination",ActionsComponent:function(){return Object(x.jsxs)("div",{className:"data-table__pagination-actions",children:[Object(x.jsx)(D.a,{title:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",placement:"bottom",enterDelay:300,children:Object(x.jsx)(E.a,{onClick:c,disabled:0===a,"aria-label":"\u041f\u0435\u0440\u0432\u0430\u044f",className:"data-table__pagination-select",children:Object(x.jsx)(Ve.a,{fontSize:"small"})})}),Object(x.jsx)(D.a,{title:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f",placement:"bottom",enterDelay:300,children:Object(x.jsx)(E.a,{onClick:r,disabled:0===a,"aria-label":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f",className:"data-table__pagination-select",children:Object(x.jsx)(He.a,{fontSize:"small"})})}),Object(x.jsx)(D.a,{title:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f",placement:"bottom",enterDelay:300,children:Object(x.jsx)(E.a,{onClick:o,disabled:a>=l-1,"aria-label":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f",className:"data-table__pagination-select",children:Object(x.jsx)(Ge.a,{fontSize:"small"})})}),Object(x.jsx)(D.a,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",placement:"bottom",enterDelay:300,children:Object(x.jsx)(E.a,{onClick:u,disabled:a>=l-1,"aria-label":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f",className:"data-table__pagination-select",children:Object(x.jsx)(ze.a,{fontSize:"small"})})})]})}})}var Ke=a(281),Ue=a(335),Je=a(282),qe=a(283),Qe=a(96),Ze=a(98),Xe=a.n(Ze),et=a(136),tt=a.n(et),at=a(342),nt=a(347),st=a(336);a(272);function it(e){var t=e.id,a=e.action,n=e.actionName,s=e.class,i=o.a.useState(!1),l=Object(c.a)(i,2),r=l[0],u=l[1],d=o.a.useState(0),b=Object(c.a)(d,2),f=b[0],p=b[1],h=o.a.useState([]),j=Object(c.a)(h,2),v=j[0],m=j[1];o.a.useEffect((function(){r&&m(e.options())}),[r,e]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Y.a,{class:s,tip:n,action:function(){return u(!0)}}),Object(x.jsxs)(Ke.a,{open:r,onClose:function(){return u(!1)},"aria-labelledby":"dialog-title",fullWidth:!0,children:[Object(x.jsxs)(Ue.a,{id:"dialog-title",children:["\u0412\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435: ",n," ?"]}),Object(x.jsxs)(Je.a,{children:[Object(x.jsx)("span",{className:"popup-confirm-choice__content",children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"}),Object(x.jsx)(nt.a,{"aria-label":"choice",name:"choice",value:f,onChange:function(e){var t=/^\d+$/.test(e.target.value)?parseInt(e.target.value,10):e.target.value;p(t)},className:"popup-confirm-choice__radio-group",children:v.map((function(e){return Object(x.jsx)(st.a,{value:e.value,control:Object(x.jsx)(at.a,{}),label:e.name},"modal-choice-".concat(e.value))}))})]}),Object(x.jsxs)(qe.a,{className:"popup-confirm-choice__actions",children:[Object(x.jsx)(Qe.a,{variant:"outlined",onClick:function(){a(t,f),u(!1)},color:"primary",className:"MuiButton-outlinedOk",startIcon:Object(x.jsx)(Xe.a,{}),children:"\u0414\u0430"}),Object(x.jsx)(Qe.a,{variant:"outlined",onClick:function(){return u(!1)},color:"secondary",startIcon:Object(x.jsx)(tt.a,{}),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})}var lt=o.a.memo(it),ct=(new K.a).getYearWeekStr();function rt(e){var t=e.fullColsNum,a=e.getDateGroup,n=e.row,s=e.groupBy,i=e.groupValue,l=e.groupHide,c=l[a(n[s])];return console.log(t),Object(x.jsxs)(ge.a,{children:[Object(x.jsx)(ye.a,{colSpan:"discussion"===e.tableName?t-4:t-1,className:"data-table__row-title",children:Object(x.jsxs)(M.a,{colSpan:t,style:{paddingTop:"0px",paddingBottom:"0px"},onClick:function(){return l[a(n[s])]=!c,e.setGroup(l)},children:[Object(x.jsx)(G.a,{children:Object(x.jsx)(Y.a,{class:"".concat(c?"icn_arrow_right":"icn_arrow_down"),tip:"".concat(c?"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"),action:function(){return e.setGroup(l)}})}),Object(x.jsxs)($.a,{variant:"inherit",noWrap:!0,style:{fontSize:"var(--font-size-table)"},children:[e.headCells[s].value,": ",i]})]})}),"discussion"===e.tableName&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(ye.a,{colSpan:3,className:"data-table__row-title_right",children:[ct===n.week?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(lt,{class:"icn_notification",id:n.week,options:function(){var t=[{value:0,name:"\u0412\u0441\u044f \u043d\u0435\u0434\u0435\u043b\u044f"}];return e.weekData.sort((function(e,t){return e.date<t.date?-1:1})).foreEach((function(e){if(!t.map((function(e){return e.value})).includes(e.date)){var a=_e()(e.date,"YYYY-MM-DD");t.push({value:e.date,name:a.format("dddd, DD MMMM YYYY")})}})),t},action:e.sendNotification,actionName:"\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445"}),"\u2003\u2003"]}):Object(x.jsx)("span",{style:{width:"50px",display:"inline-block"},children:"\xa0"}),Object(x.jsx)(Y.a,{class:"icn_description",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u0435\u043b\u0438",action:e.toggleDescription}),"\u2003\u2003",Object(x.jsx)(lt,{class:"icn_discussionCopy",id:n[s],options:function(){for(var e=[],t=0;t<2;t++){var a={value:t},n=new Date;n.setDate(n.getDate()+7*t);var s="".concat(_e()(n,"YYYY-MM-DD").startOf("week").format("DD MMMM")," - ").concat(_e()(n,"YYYY-MM-DD").endOf("week").format("DD MMMM YYYY")," \u0433");a.name=0===t?"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ".concat(s):1===t?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ".concat(s):"".concat(t,"-\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ").concat(s),e.push(a)}return e},action:e.copyPreviousWeekDiscussions,actionName:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439 \u043d\u0435\u0434\u0435\u043b\u0438"})]})})]})}var ot=a(141),ut=(a(273),Object(r.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(6)]).then(a.bind(null,429))}))),dt=Object(r.lazy)((function(){return a.e(10).then(a.bind(null,427))})),bt=Object(r.lazy)((function(){return a.e(9).then(a.bind(null,428))})),ft=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},pt=function(e){return function(t,a){return function(e,t,a){for(var n=0,s=0;s<a.length;s++){var i=a[s],l=i.field,c=Number.isInteger(e[l])?e[l]:e[l]?e[l].toString():"",r=Number.isInteger(t[l])?t[l]:t[l]?t[l].toString():"";if("select"===u.b.dataTable[l].type&&(""!==c&&"string"===typeof c&&(c=u.b["".concat(l,"List")][c].value),""!==r&&"string"===typeof r&&(r=u.b["".concat(l,"List")][r].value),"string"!==typeof c&&(c=""),"string"!==typeof r&&(r="")),n=0,r<c&&(n=-1),r>c&&(n=1),"asc"===i.order&&(n*=-1),0!==n)break}return n}(t,a,e)}},ht=function(e){Object(ve.a)(a,e);var t=Object(me.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).setData=function(e){n.setEditID(-1),n.setState({data:e})},n.setPage=function(e){n.setEditID(-1),n.setState({page:e})},n.setOrder=function(e){return n.setState({order:e})},n.setOrderBy=function(e){return n.setState({orderBy:e})},n.setEditID=function(e){return n.setState({editID:e})},n.setEditItem=function(e){return n.setState({editItem:e})},n.setShowFullTextID=function(e){return n.setState({showFullTextID:e})},n.setRowsPerPage=function(e){return n.setState({rowsPerPage:e})},n.setHeadCells=function(e){return n.setState({headCells:e})},n.setWeekDescription=function(e){return n.setState({weekDescription:e})},n.setSearch=function(e){b.b.data.commonFieldSearch=e,n.setData(Object(b.a)())},n.setSort=function(e){var t=n.state.sort,a=t.map((function(e){return e.field})).indexOf(e);-1!==a?"asc"===t[a].order?t[a].order="desc":t.splice(a,1):t.push({field:e,order:"asc"}),n.setState({sort:t})},n.handleRequestSort=function(e,t){return n.setSort(t)},n.handleRequestGroup=function(e,t){var a=n.state.sort;t&&""!==t&&a.field!==t&&("week"===t?n.setState({sort:[{field:t,order:"desc"},{field:"date",order:"asc"},{field:"time",order:"asc"}]}):n.setState({sort:[{field:t,order:"asc"}]})),n.setState({groupBy:t,byWeek:!1})},n.handleChangePage=function(e,t){n.setPage(t)},n.handleChangeRowsPerPage=function(e){n.setRowsPerPage(parseInt(e.target.value,10)),n.setPage(0)},n.defaultSort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a=[];t.split(",").forEach((function(t,n){a.push({field:t,order:e.split(",")[n]})})),n.setState({sort:a,groupBy:""}),u.b.specificParameters&&u.b.specificParameters.defaultGroupField&&n.setState({groupBy:u.b.specificParameters.defaultGroupField})},n.realID=function(e){return u.a.map((function(e){return e.id})).indexOf(e)},n.editTableRow=function(e,t){var a=!1;Object(f.a)("patch",t,e,u.b.dataTableName).then((function(s){if(Object(c.a)(s,1)[0])a=!0;else{var i=n.realID(e);Object.keys(t).forEach((function(e){u.a[i][e]=t[e]})),n.setData(Object(b.a)()),p.a.upd.dispatch({type:"UPDATE",update:!0})}})).then((function(){a?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})})),p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."})},n.addTableRow=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.addTableRowArray([e],t)},n.addTableRowArray=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Promise.all(e.map((function(e){return Object(f.a)("put",e,void 0,u.b.dataTableName)}))).then((function(a){var s=0,i=1;if(a.forEach((function(e){var t=e[0],a=e[1];t&&(s=1),a&&a.data&&a.data.id||(i=0)})),s)p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438"});else if(i){p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});for(var l=0;l<e.length;l++){var c=e[l],r=a[l][1];c.id=r.data.id,c.value=c[u.b.specificParameters.mainValue],u.b["".concat(u.b.dataTableName,"List")]&&(u.b["".concat(u.b.dataTableName,"List")][c.id]=c),u.a.push(c)}t&&n.setData(Object(b.a)())}}))},n.deleteTableRow=function(e){p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."});var t=!1;Object(f.a)("delete",{},e,u.b.dataTableName).then((function(a){if(Object(c.a)(a,1)[0])t=!0;else{n.setShowFullTextID(-1);var s=n.realID(e);u.a.splice(s,1),n.setData(Object(b.a)()),p.a.upd.dispatch({type:"UPDATE",update:!0})}})).then((function(){t?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.inlineEditOk=function(e){return function(){var t=n.state.editItem,a=n.realID(e),s={};Object.keys(u.a[a]).forEach((function(e){s[e]=u.a[a][e]})),s[t]=n["edit-".concat(t,"-").concat(e)].value,p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(f.a)("patch",s,e,u.b.dataTableName).then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),u.a[a][t]=s[t],n.setData(Object(b.a)()))}))}},n.dialogEditOk=function(e,t,a){var s=n.realID(e),i={};Object.keys(u.a[s]).forEach((function(e){i[e]=u.a[s][e]})),i[t]=a,p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(f.a)("patch",i,e,u.b.dataTableName).then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),u.a[s][t]=a,n.setData(Object(b.a)()))}))},n.completeTableRow=function(e){var t=n.realID(e),a={};Object.keys(u.a[t]).forEach((function(e){a[e]=u.a[t][e]})),a.status="done";var s=new Date;a.dateEnd=s.toISOString().replace(/(.+)T(.+)/,"$1"),p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(f.a)("patch",a,e).then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),u.a[t].status=a.status,u.a[t].dateEnd=a.dateEnd,n.setData(Object(b.a)()))}))},n.setStatusTableRow=function(e,t){var a=n.realID(e),s={};if(Object.keys(u.a[a]).forEach((function(e){s[e]=u.a[a][e]})),s.status=t,"done"===t){var i=new Date;s.dateEnd=i.toISOString().replace(/(.+)T(.+)/,"$1")}p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(f.a)("patch",s,e,u.b.dataTableName).then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),u.a[a].status=s.status,u.a[a].dateEnd=s.dateEnd,n.setData(Object(b.a)()))}))},n.showFullText=function(e){return function(){return n.state.showFullTextID===e?n.setShowFullTextID(-1):n.setShowFullTextID(e)}},n.loadLinked=function(){var e=Object(fe.a)(be.a.mark((function e(t,a){var s,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.b.dataTableName,p.a.table.dispatch({type:"SET_TABLE",tableName:u.b.dataTableName}),e.next=4,Object(f.c)(s,"direct",{id:t});case 4:i=e.sent,n.props.reloadDataTable(a,(function(){b.b.data.idTask=t,b.b.perm.mainTable=s,n.setState({titleRow:"".concat(i[0].id," - ").concat(i[0].value)})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.showResults=function(){var e=Object(fe.a)(be.a.mark((function e(t){var a,s,i=arguments;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"discussion",e.next=3,Object(f.c)(a,"direct",{idTask:t,mainTable:u.b.dataTableName});case 3:s=e.sent,n.setState({showAddRows:t,secDataList:s.sort((function(e,t){return e.date.toString()>t.date.toString()?-1:1})).map((function(e){var t=[];return t.push(_e()(e.date).format("DD MMMM YYYY")),t.push(e.participants.split(",").map((function(e){var t;return(null===(t=u.b.developerList[e])||void 0===t?void 0:t.value)?u.b.developerList[e].value:e})).join(", ")),t.push(e.result),{string:t.join("\n")}}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addLinkedData=function(e,t,a){var s=n.realID(e),i={},l=u.b.tables["".concat(t,"_meta")];return Object.keys(l.dataTable).forEach((function(e){l.dataTable[e].defaultValue&&(i[e]=Object(ot.a)(s,e,l.dataTable))})),Object.keys(a).forEach((function(e){i[e]=a[e]})),p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(f.a)("put",i,void 0,t).then((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];a?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438"}):n&&n.id?p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414"})})),!1},n.loadSecondaryList=function(){var e=Object(fe.a)(be.a.mark((function e(t,a,s){var i,l;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAddRows!==t){e.next=4;break}n.setState({showAddRows:-1,secDataList:[]}),e.next=13;break;case 4:return n.setState({showAddRows:t}),i=[],a="taskgroup","discussion"===u.b.dataTableName&&(l=n.realID(t),t=u.a[l].idTask),e.next=10,Object(f.c)(s,"direct",Object(ue.a)({},a,t));case 10:e.sent.filter((function(e){return parseInt(e[a],10)===parseInt(t,10)&&"done"!==e.status})).sort((function(e,t){return e.value<=t.value?-1:1})).forEach((function(e){i.push({id:e.id,value:e.value})})),n.setState({secDataList:i.map((function(e){return{string:" ".concat(e.value)}}))});case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.menuActionLoadDiscussions=function(e){return n.loadLinked(e,"discussion")},n.menuActionLoadThemeTasks=function(e){return n.loadSecondaryList(e,u.b.dataTableName,"task")},n.sendNotification=function(e){var t={id:e,mode:"notify",feature:u.b.dataTableName};p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."}),Object(f.a)("notify",t,e,"notification").then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.sendNotificationWeekDate=function(e,t){p.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."});var a={week:e,mode:"done",feature:"discussion"};t&&(a.date=t),Object(f.a)("notify",a,void 0,"notification").then((function(e){Object(c.a)(e,1)[0]?p.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):p.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.actionMenuList=function(){var e=[];if(u.b.specificParameters.haveDiscussion){var t={id:"discussion",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0435",type:"discussion",action:n.addLinkedData};e.push(t)}if(u.b.specificParameters.hasGoToDiscussion){var a={id:"goToDiscussion",value:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f",type:"discussion",action:n.menuActionLoadDiscussions};e.push(a)}if(u.b.specificParameters.hasSublistData){var s={id:"secDataList",value:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",action:n.menuActionLoadThemeTasks};e.push(s),e.push({id:"divider"})}if(u.b.specificParameters.hasEditMenu){var i={id:"tasks_edit",value:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",actionName:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",action:n.editTableRow,actionNew:n.addTableRow};e.push(i)}if(u.b.specificParameters.hasSetStatusMenu){var l={id:"tasks_status",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",actionName:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",isListOfItems:!0,listItems:u.b.statusList,action:n.setStatusTableRow};e.push(l)}if(u.b.specificParameters.hasDeleteButton){var c={id:"tasks_delete",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",actionName:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",action:n.deleteTableRow};e.push(c)}if(u.b.specificParameters.hasNotificationButton){e.push({id:"divider"});var r={id:"notification",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435",action:n.sendNotification};e.push(r)}if(u.b.specificParameters.hasShowResults){var o={id:"showThemeResults",value:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439",type:"discussion",action:n.showResults};e.push(o)}return e},n.getDateGroup=function(e){return n.state.byWeek?_e()(e,"YYYY-MM-DD").week():e},n.toggleDescription=function(e){var t=n.state.weekDescription;t&&t===e?n.setWeekDescription(void 0):n.setWeekDescription(e)},n.state={loadData:!1,page:0,rowsPerPage:100,sort:[{field:"id",order:"asc"}],groupBy:"",groupHide:{},editID:-1,editItem:"",showFullTextID:-1,showAddRows:-1,data:u.a,headCells:u.b.dataTable,titleRow:"",secDataList:[],weekDescription:void 0},n.setSearch=n.setSearch.bind(Object(je.a)(n)),n}return Object(he.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=p.a.state.subscribe((function(){var t=p.a.state.getState().STATE.dataLoading;if(t&&"data"===t){var a=u.b.specificParameters.defaultSortDirection||"desc",n=u.b.specificParameters.defaultSortField||"id",s=[];n.split(",").map((function(e,t){return s.push({field:e,order:a.split(",")[t]})}));var i="";u.b.specificParameters&&u.b.specificParameters.defaultGroupField&&(i=u.b.specificParameters.defaultGroupField),e.setState({headCells:u.b.dataTable,sort:s,groupBy:i,editID:-1,data:Object(b.a)(!0),loadData:!0})}else t&&"meta"===t&&e.setState({headCells:u.b.dataTable,loadData:!0})})),this.unsubscribeData=p.a.data.subscribe((function(){p.a.data.getState().DATA.redraw&&(e.setData(Object(b.a)()),e.setPage(0))})),this.unsubscribeTable=p.a.table.subscribe((function(){e.setState({loadData:!1,secDataList:[],titleRow:""})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribeData(),this.unsubscribeTable()}},{key:"copyPreviousWeekDiscussions",value:function(e,t){var a=u.a.filter((function(t){return t.week===e})),n=[];a.forEach((function(e){var a=Object(h.a)({},e);a.result="",a.status="new",a.videoConf="";var s=_e()().startOf("week").day(_e()(a.date).day()+7*t);a.date=_e()(s).format("YYYY-MM-DD"),a.week=_e()(s).format("YYYY.WW"),n.push(a)})),this.addTableRowArray(n)}},{key:"render",value:function(){var e,t,a,n=this,s=this.state,i=s.page,l=s.order,c=s.orderBy,o=s.sort,d=s.groupBy,f=s.headCells,p=s.weekDescription,h=s.secDataList,j=s.groupHide,v=this.state,m=v.rowsPerPage,O=v.data,g={},y=new Date;y=y.toLocaleDateString().replace(/(\d+).(\d+).(\d+)/,"$3-$2-$1"),this.props.noPagination&&(m=(O=Object(b.a)()).length);var k=function(){var e=!1;return u.b.specificParameters&&(u.b.specificParameters.hasSpecAction||u.b.specificParameters.hasSpecNotes||u.b.specificParameters.hasEditMenu||u.b.specificParameters.hasDeleteButton||u.b.specificParameters.hasDoneButton)&&(e=!0),e}(),w=Object.values(u.b.dataTable).filter((function(e){return e.showInTable})).length+(k?1:0);return this.state.loadData?Object(x.jsxs)(Oe.a,{size:"small",stickyHeader:!0,className:"data-table__table",children:[Object(x.jsxs)(xe.a,{children:[Object(x.jsx)(Ae,{order:l,sort:o,orderBy:c,groupBy:d,onRequestSort:this.handleRequestSort,onRequestGroup:this.handleRequestGroup,rowCount:O.length,onFilter:function(e){n.setData(e),n.setPage(0)},headCells:f}),!this.props.noPagination&&Object(x.jsx)(ge.a,{children:Object(x.jsxs)(ye.a,{colSpan:k?w+1:w,className:"data-table__pagination-cell",children:[Object(x.jsx)(Fe,{setSearch:this.setSearch}),Object(x.jsx)($e,{count:O.length,page:i,rowsPerPage:m,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]})}),(null===(e=u.b.specificParameters)||void 0===e?void 0:e.hasTitleRow)&&""!==this.state.titleRow&&Object(x.jsx)(ge.a,{children:Object(x.jsx)(ye.a,{colSpan:w,className:"data-table__row-title",children:this.state.titleRow})})]}),Object(x.jsx)(ke.a,{children:O.length>0?ft(O,pt(o)).slice(i*m,i*m+m).map((function(e){var t="";"new"===e.status&&(t="task_alert"),"discussion"===u.b.dataTableName&&"new"===e.status&&e.date>=y&&(t=""),"hard"===e.priority&&(t="task_bad"),"rejected"===e.status&&(t="task_bad"),"done"===e.status&&(t="task_good"),"discussion"!==u.b.dataTableName||e.result||"done"!==e.status||(t="task_noresult");var a=!1,s="",i="";if(d&&""!==d){var l="";"date"===f[d].type?l=_e()(e[d],"YYYY-MM-DD"):"week"===d&&(l=_e()(e.date,"YYYY-MM-DD"));var c=n.getDateGroup(e[d]);g[c]||(g[c]=1,a=!0),"date"===f[d].type?(i="".concat(l.format("dddd"),"\n").concat(l.format("DD MMMM")),s=l.format("DD MMMM YYYY")):"week"===d?(i="".concat(l.format("dddd"),"\n").concat(l.format("DD MMMM")),s="".concat(l.startOf("week").format("DD MMMM YYYY")," - ").concat(l.endOf("week").format("DD MMMM YYYY"))):s=u.b["".concat(d,"List")]?u.b["".concat(d,"List")][e[d]].value:e[d]}var o={display:!1};Object.values(f).forEach((function(t){"fulltext"===t.type&&""!==e[t.id]&&"string"===typeof e[t.id]&&(o.value=e[t.id],o.title=t.value,o.id=t.id,o.display=!0,o.fullTextIndexCell=t.tableIndex)}));var b="";if(e.videoConf&&/https:\/\/us02web\.zoom\.us\/j\/\d+\?pwd=.+/.test(e.videoConf)){var v=e.videoConf.replace(/^[\s\S]*(https:\/\/us02web\.zoom\.us\/j\/\d+\?pwd=\S+\b)[\s\S]*/,"$1"),m=v.replace(/^https:\/\/us02web\.zoom\.us\/j\/\d{7}(\d{4}).+/,"$1");b=Object(x.jsx)(Y.a,{type:"link",class:"icn_zoom",tip:m,href:v})}var O="";if(e.videoConf&&/youtu\.?be/.test(e.videoConf)){var T=e.videoConf.replace(/^[\s\S]*(https:\/\/(www\.)?youtu\.?be.+\b)[\s\S]*/,"$1");O=Object(x.jsx)(Y.a,{type:"link",class:"icn_youtube",href:T})}return Object(x.jsxs)(r.Fragment,{children:[d&&""!==d&&a&&Object(x.jsx)(rt,{tableName:u.b.dataTableName,fullColsNum:k?w+2:w,headCells:f,groupBy:d,groupValue:s,groupHide:j,setGroup:function(e){n.setState({groupHide:e})},row:e,weekData:u.a.filter((function(t){return t.week===e.week})),getDateGroup:n.getDateGroup,sendNotification:function(e,t){n.sendNotificationWeekDate(e,t)},toggleDescription:function(){n.toggleDescription(e.week)},copyPreviousWeekDiscussions:function(e,t){n.copyPreviousWeekDiscussions(e,t)}}),Object(x.jsxs)(ge.a,{hover:!0,tabIndex:-1,className:"".concat(t," data-table__row"),style:{height:"31px",display:!d||d&&g[n.getDateGroup(e[d])]&&!j[n.getDateGroup(e[d])]?"table-row":"none"},children:[Object.values(f).filter((function(e){return e.showInTable})).sort((function(e,t){return e.tableIndex>=t.tableIndex?1:-1})).map((function(t,a){var s=t.id,l=d&&(t.id===d||"date"===t.id&&"week"===d)?i:e[t.id];"time"===t.type&&(l=l.replace(/(\d\d:\d\d):\d\d/,"$1")),"mainTable"===t.id&&(l=u.b.tables["".concat(l,"_meta")].specificParameters.tableName);var c=e.id,f="";["datetime","date","time"].includes(t.type)&&(f="nowrap"),d&&""!==d&&(t.id===d||"date"===t.id&&"week"===d)&&(f="pre");var h=0===a?"10px":"0px";return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsxs)(ye.a,{className:"data-table__cell",align:"left",padding:"none",style:{whiteSpace:f,paddingLeft:h,fontSize:"var(--font-size-table)"},children:[t.isInlineEditable&&"string"===t.type&&(n.state.editID!==c||n.state.editItem!==s)&&Object(x.jsxs)(x.Fragment,{children:[o.display&&u.b.dataTable[s].hasFullTextLink&&Object(x.jsx)(Y.a,{class:"icn_description",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ".concat(o.title),action:n.showFullText(e.id)}),b,O,l]}),n.state.editID===c&&n.state.editItem===s&&Object(x.jsx)(we.a,{type:"text",autoFocus:!0,defaultValue:l,ref:"edit-".concat(s,"-").concat(c),inputRef:function(e){n["edit-".concat(s,"-").concat(c)]=e},inputProps:{style:{fontSize:"var(--font-size-table)"}},endAdornment:Object(x.jsx)(Te.a,{position:"end",children:Object(x.jsxs)("div",{className:"data-table__cell-edit-buttons",children:[Object(x.jsx)(Y.a,{class:"icn_ok",action:n.inlineEditOk(c)}),Object(x.jsx)(Y.a,{class:"icn_cancel",action:function(){n.setEditID(-1),n.setEditItem("")}})]})}),fullWidth:!0}),t.isInlineEditable&&"fulltext"===t.type&&Object(x.jsx)("div",{ref:"div-".concat(s,"-").concat(c),className:"data-table__cell-fulltext",children:Object(x.jsxs)("div",{className:"data-table__cell-fulltext-value",children:[o.display&&u.b.dataTable[s].hasFullTextLink&&Object(x.jsx)(Y.a,{class:"icn_description",action:n.showFullText(e.id)}),l]})}),!t.isInlineEditable&&"multi-select"!==t.type&&("select"!==t.type||"undefined"===typeof u.b["".concat(s,"List")][l])&&Object(x.jsxs)(x.Fragment,{children:[o.display&&u.b.dataTable[s].hasFullTextLink&&Object(x.jsx)(Y.a,{class:"icn_description",action:n.showFullText(e.id)}),l]}),!t.isInlineEditable&&"select"===t.type&&"undefined"!==typeof u.b["".concat(s,"List")][l]&&Object(x.jsxs)(x.Fragment,{children:[o.display&&a+1===o.fullTextIndexCell&&u.b.dataTable[s].hasFullTextLink&&Object(x.jsx)(Y.a,{class:"icn_description",action:n.showFullText(e.id)}),u.b["".concat(s,"List")][l].value]}),!t.isInlineEditable&&"multi-select"===t.type&&Object(x.jsxs)("div",{className:"data-table__cell-multiselect",children:[o.display&&a+1===o.fullTextIndexCell&&u.b.dataTable[s].hasFullTextLink&&Object(x.jsx)(Y.a,{class:"icn_description",action:n.showFullText(e.id)}),l.split(",").map((function(e){var t;return(null===(t=u.b["".concat(s,"List")][e])||void 0===t?void 0:t.value)||e})).join(", ")]})]}),t.isInlineEditable&&"string"===t.type&&Object(x.jsx)(ye.a,{className:"data-table__cell",align:"center",padding:"none",style:{width:"10px",whiteSpace:f,paddingLeft:h,borderBottom:(n.state.showFullTextID===e.id||p&&p===e.week)&&o.display&&0},children:n.state.editID!==c&&Object(x.jsx)("div",{className:"data-table__hover-icon data-table__cell-inline-edit",children:Object(x.jsx)(Y.a,{class:"icn_tasks_edit",tip:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c: ".concat(u.b.dataTable[s].value),action:function(){n.setEditID(c),n.setEditItem(s)}})})})]},"td-".concat(s,"-").concat(c))})),k&&Object(x.jsx)(ye.a,{className:"data-table__cell data-table__hover-icon",padding:"none",style:{paddingLeft:u.b.mobile?"10px":""},children:Object(x.jsx)("div",{className:"data-table__hover-icon",children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("p",{children:"..."}),children:Object(x.jsx)(ut,{id:e.id,task:e,list:n.actionMenuList})})})})]},"row-main-".concat(e.id)),(n.state.showFullTextID===e.id||p&&p===e.week)&&o.display&&Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(ge.a,{children:Object(x.jsx)(ye.a,{children:"..."})}),children:Object(x.jsx)(bt,{data:o,headCells:f,id:e.id})}),n.state.showAddRows===e.id&&!j[e[d]]&&Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(ge.a,{children:Object(x.jsx)(ye.a,{children:"..."})}),children:Object(x.jsx)(dt,{secDataList:h,fullColsNum:w,loadSecondaryList:function(){return n.loadSecondaryList(e.id,"task")}})})]},"".concat(e.id))})):Object(x.jsx)(ge.a,{children:Object(x.jsx)(ye.a,{colSpan:w,children:(null===(t=u.b.specificParameters)||void 0===t?void 0:t.tableName)?"".concat(null===(a=u.b.specificParameters)||void 0===a?void 0:a.tableName,": \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"):"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f..."})})})]}):Object(x.jsx)("div",{className:"data-table__loading",children:Object(x.jsx)(re.a,{style:{width:"100px",height:"100px"}})})}}]),a}(o.a.Component),jt=(a(274),o.a.lazy((function(){return Promise.all([a.e(5),a.e(8)]).then(a.bind(null,431))}))),vt=o.a.lazy((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,425))}));function mt(e){var t=e.dataRef,a=e.reloadDataTable,n=e.dataTable,s=e.dataTableName,i=o.a.useState(s),l=Object(c.a)(i,2),r=l[0],u=l[1],d=p.a.table.subscribe((function(){var e=p.a.table.getState().TABLE.tableName;e&&u(e)}));return o.a.useEffect((function(){return d(),d()}),[r]),Object(x.jsxs)("section",{className:"content",children:["calendar"!==r?Object(x.jsx)("div",{className:"content__table",children:Object(x.jsx)(o.a.Suspense,{fallback:Object(x.jsx)(oe,{}),children:Object(x.jsx)(ht,{reloadDataTable:a,ref:t})})}):Object(x.jsx)("div",{className:"content__calendar",children:Object(x.jsx)(o.a.Suspense,{fallback:Object(x.jsx)(oe,{}),children:Object(x.jsx)(jt,{dates:n})})}),Object(x.jsx)(o.a.Suspense,{fallback:Object(x.jsx)(oe,{}),children:Object(x.jsx)(vt,{})})]})}a(275);var Ot=Object(r.lazy)((function(){return a.e(11).then(a.bind(null,430))}));function xt(){var e=o.a.useState([]),t=Object(c.a)(e,2),a=t[0],n=t[1],s=o.a.useRef(null),i=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u.b.dataTableName=e,p.a.table.dispatch({type:"SET_TABLENAME",tableName:e}),a&&b.b.clear(),Promise.all([Object(f.c)("".concat(e,"_meta")),Object(f.c)(u.b.dataTableName)]).then((function(){"function"===typeof t&&t()})).then((function(){p.a.state.dispatch({type:"SET_DATALOADING",stage:"data"})}))},h=document.location.pathname,j=-1!==window.location.href.search(/localhost:3000/)?"":"smisplan",v=h.split("/").slice(1);v[0]===j&&v.shift();var m=v[0],O={data:{}};if(""!==v[1]&&(O.developer=v[1]),d.b.includes(m)&&(u.b.dataTableName=m),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)){u.b.mobile=!0;var g=document.documentElement;g.style.setProperty("--font-size-table-title","16px"),g.style.setProperty("--font-size-table","14px")}return o.a.useEffect((function(){Object(f.c)("developer").then((function(e){n(e),Promise.all([].concat(Object(l.a)(d.b.map((function(e){return Object(f.c)("".concat(e,"_meta"))}))),[Object(f.c)(u.b.dataTableName)])).then((function(){p.a.state.dispatch({type:"SET_DATALOADING",stage:"data"})}))}))}),[]),Object(x.jsxs)("div",{id:"mainTable",style:{width:"100%",height:"100%"},children:[Object(x.jsxs)("header",{style:{display:"flex"},children:[Object(x.jsx)(Q,{reloadDataTable:i,dataRef:s}),Object(x.jsx)("div",{className:"divSpacingUp"}),Object(x.jsx)(_,{reloadDataTable:i,projectList:u.b.projectList,dataTable:u.a})]}),Object(x.jsxs)("main",{style:{display:"flex"},className:"divBottom",children:[Object(x.jsx)(ce,{developer:O.developer,developers:a,metaData:u.b,dataTable:u.a}),Object(x.jsx)(mt,{dataRef:s,reloadDataTable:i,dataTable:u.a,dataTableName:u.b.dataTableName}),Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("p",{children:"..."}),children:Object(x.jsx)(Ot,{})})]})]})}s.a.render(Object(x.jsx)(i.a,{children:Object(x.jsx)(xt,{})}),document.querySelector("#root"))},4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i}));var n=[],s={mobile:!1,user:{},dataTableName:"task",projectList:{},developerList:{},dataTable:{},tables:{}},i=function(){n.splice(0)}},8:function(e,t,a){"use strict";var n=a(47);var s={state:Object(n.b)(Object(n.a)({STATE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATALOADING":return e.dataLoading=t.stage,e;case"UNSET_DATALOADING":return delete e.dataLoading,e;default:return e}}})),alert:Object(n.b)(Object(n.a)({ALERT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return e.alert={status:t.status,message:t.message},e;case"HIDE_ALERT":return delete e.alert,e;default:return e}}})),data:Object(n.b)(Object(n.a)({DATA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REDRAW":return e.redraw=t.redraw,e;default:return e}}})),upd:Object(n.b)(Object(n.a)({UPD:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e.update=t.update,e;default:return e}}})),meta:Object(n.b)(Object(n.a)({META:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREASE":return e.count++,e;case"ZERO":return e.count=0,e;default:return e}}}),{META:{count:0}}),table:Object(n.b)(Object(n.a)({TABLE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TABLENAME":return e.tableName=t.tableName,e;default:return e}}}))};t.a=s},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(56),s=a(77),i=a(78),l=a(195),c=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return 0===i.length&&(i[0]=new Date),(e=t.call(this,i)).getWeek=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=t&&"number"===typeof t?t:0;var a=new Date(e.getFullYear(),0,1),n=a.getDay()-t;n=n>=0?n:n+7;var s,i=Math.floor((e.getTime()-a.getTime()-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)+1;if(n<4){if((s=Math.floor((i+n-1)/7)+1)>52){var l=new Date(e.getFullYear()+1,0,1),c=l.getDay()-t;s=(c=c>=0?c:c+7)<4?1:53}}else s=Math.floor((i+n-1)/7);return s},e.getWeekStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.getWeek(t);return a<10?"0".concat(a):a},e.getYearWeekStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(e.getFullYear(),".").concat(e.getWeekStr(t))},e}return a}(Object(l.a)(Date));c.toDateTimeStr=function(e,t){var a;if("string"===typeof t)a=t,"time"===e&&(a=t.split("T")[1]);else if("object"===typeof t&&t&&t._isAMomentObject)switch(e){case"date":a=t.format("YYYY-MM-DD");break;case"time":a=t.format("HH:mm:00");break;case"datetime":a=t.format("YYYY-MM-DD HH:mm:00");break;default:a=void 0}else if("object"===typeof t&&t instanceof Date)switch(e){case"date":a=t.toLocaleDateString("ru-RU").replace(/(\d+)\.(\d+)\.(\d+)/,"$3-$2-$1");break;case"time":a=t.toLocaleTimeString("ru-RU").replace(/(\d+):(\d+):(\d+)/,"$1:$2:00");break;case"datetime":a="".concat(t.toLocaleDateString("ru-RU").replace(/(\d+?)\.(\d+?)\.(\d+?)/,"$3-$2-$1"),"  ").concat(t.toLocaleTimeString("ru-RU").replace(/(\d+?):(\d+?):(\d+?)/,"$1:$2:00"));break;default:a=void 0}return a}}},[[276,2,3]]]);
//# sourceMappingURL=main.b3b78894.chunk.js.map