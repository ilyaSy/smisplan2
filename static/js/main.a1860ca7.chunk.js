(this.webpackJsonpsmisplan2=this.webpackJsonpsmisplan2||[]).push([[1],{137:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(28),s=a.n(n),i=a(2);function l(e,t,a){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"defaultValue",r=new Date;switch(a[t][l]){case"date":n=s()(r,"YYYY-MM-DD").format("YYYY-MM-DD");break;case"time":n=s()(r,"YYYY-MM-DD").format("HH:mm:00");break;case"datetime":n=s()(r,"YYYY-MM-DD").format("YYYY-MM-DD HH:mm:00");break;case"empty":n=void 0;break;default:if(-1!==a[t][l].search(/object:/)){var c=a[t][l].split(","),o=c[0].split(":")[1],u=c[1].split(":")[1];"data"===o?n=i.a[e][u]:"meta"===o&&(n=i.e[u])}else n=a[t][l]}return n}},15:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(293),l=a(115),r=a(160),c=a.n(r),o=a(184),u=a.n(o),d=a(183),p=a.n(d),f=a(172),m=a.n(f),b=a(151),h=a.n(b),v=a(162),E=a.n(v),y=a(163),g=a.n(y),k=a(97),S=a.n(k),w=a(164),O=a.n(w),T=a(165),_=a.n(T),D=a(109),j=a.n(D),x=a(102),I=a.n(x),L=a(166),N=a.n(L),A=a(168),P=a.n(A),C=a(169),R=a.n(C),F=a(171),M=a.n(F),V=a(170),Y=a.n(V),z=a(173),W=a.n(z),H=a(174),B=a.n(H),G=a(175),U=a.n(G),J=a(176),K=a.n(J),$=a(93),q=a.n($),Q=a(152),Z=a.n(Q),X=a(128),ee=a.n(X),te=a(167),ae=a.n(te),ne=a(177),se=a.n(ne),ie=a(178),le=a.n(ie),re=a(179),ce=a.n(re),oe=a(180),ue=a.n(oe),de=a(153),pe=a.n(de),fe=a(181),me=a.n(fe),be=a(186),he=a.n(be),ve=a(185),Ee=a.n(ve),ye=a(187),ge=a.n(ye),ke=a(182),Se=a.n(ke),we=a(188),Oe=a.n(we),Te=a(189),_e=a.n(Te),De=a(190),je=a.n(De);t.a=s.a.memo((function(e){var t=void 0!==typeof e.size?e.size:"30px",a=void 0!==e.fontSize?e.fontSize:"default",n=e.type?e.type:"material-ui",r=e.style||{};r.padding="0px","icn_arrow_left_fill"===e.class&&(r.left="-30px");var o="default";return e.class,"icn_cancel"===e.class&&(o="secondary"),s.a.createElement(s.a.Fragment,null,"material-ui"===n&&s.a.createElement(i.a,{title:e.tip?e.tip:""},s.a.createElement(l.a,{className:"icn",style:r,color:o,onClick:"function"===typeof e.action?e.action:null},"icn_filter"===e.class&&s.a.createElement(c.a,{fontSize:a}),"icn_tasks_add"===e.class&&s.a.createElement(h.a,{fontSize:a}),"icn_tasks_edit"===e.class&&s.a.createElement(E.a,{fontSize:a}),"icn_tasks_delete"===e.class&&s.a.createElement(g.a,{fontSize:a}),"icn_tasks_complete"===e.class&&s.a.createElement(S.a,{fontSize:a}),"icn_ok"===e.class&&s.a.createElement(O.a,{style:{color:"green"},fontSize:a}),"icn_cancel"===e.class&&s.a.createElement(_.a,{fontSize:a}),"icn_filterOff"===e.class&&s.a.createElement(j.a,{fontSize:a}),"icn_print"===e.class&&s.a.createElement(I.a,{fontSize:a}),"icn_tasks_daily"===e.class&&s.a.createElement(N.a,{fontSize:a}),"icn_arrow_right"===e.class&&s.a.createElement(q.a,{fontSize:a}),"icn_arrow_left"===e.class&&s.a.createElement(Z.a,{fontSize:a}),"icn_arrow_down"===e.class&&s.a.createElement(ae.a,{fontSize:a}),"icn_arrow_up"===e.class&&s.a.createElement(ee.a,{fontSize:a}),"icn_arrow_right_fill"===e.class&&s.a.createElement(P.a,{fontSize:a}),"icn_arrow_left_fill"===e.class&&s.a.createElement(R.a,{fontSize:a}),"icn_description"===e.class&&s.a.createElement(Y.a,{fontSize:a}),"icn_comment"===e.class&&s.a.createElement(M.a,{fontSize:a}),"icn_settings"===e.class&&s.a.createElement(m.a,{fontSize:a}),"icn_menu"===e.class&&s.a.createElement(W.a,{fontSize:a}),"icn_spec_notes"===e.class&&s.a.createElement(B.a,{fontSize:a}),"icn_group"===e.class&&s.a.createElement(U.a,{fontSize:a}),"icn_secDataList"===e.class&&s.a.createElement(K.a,{fontSize:a}),"icn_secDataListCollapse"===e.class&&s.a.createElement(ee.a,{fontSize:a}),"icn_question"===e.class&&s.a.createElement(se.a,{fontSize:a}),"icn_moreH"===e.class&&s.a.createElement(le.a,{fontSize:a}),"icn_moreV"===e.class&&s.a.createElement(ce.a,{fontSize:a}),"icn_meeeting"===e.class&&s.a.createElement(ue.a,{fontSize:a}),"icn_discussion"===e.class&&s.a.createElement(me.a,{fontSize:a}),"icn_notification"===e.class&&s.a.createElement(Se.a,{fontSize:a}),"icn_search"===e.class&&s.a.createElement(p.a,{fontSize:a}),"icn_clear"===e.class&&s.a.createElement(u.a,{fontSize:a}),"icn_download"===e.class&&s.a.createElement(pe.a,{fontSize:a}),"icn_save"===e.class&&s.a.createElement(Ee.a,{fontSize:a}),"icn_save_doc"===e.class&&s.a.createElement(he.a,{fontSize:a}),"icn_attachment"===e.class&&s.a.createElement(ge.a,{fontSize:a}),"icn_chief"===e.class&&s.a.createElement(Oe.a,{fontSize:a}),"icn_discussionList"===e.class&&s.a.createElement(_e.a,{fontSize:a}),"icn_discussionCopy"===e.class&&s.a.createElement(je.a,{fontSize:a}))),"link"===n&&s.a.createElement("a",{href:e.href,target:"_blank",title:e.tip?e.tip:"",rel:"noopener noreferrer"},s.a.createElement("div",{style:{width:t,height:t,display:"inline-block"},onClick:e.action,className:e.class})),"link"!==n&&"material-ui"!==n&&s.a.createElement("div",{style:{width:t,height:t,display:"inline-block"},onClick:e.action,className:e.class}))}))},19:function(e,t,a){"use strict";a.d(t,"c",(function(){return w})),a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return T}));var n=a(87),s=a(31),i=a(16),l=a.n(i),r=a(34),c=a(20),o=a(25),u=(a(7),a(2)),d="/smisplan/cgi/api-smisplan-getInfo.pl",p=a(32),f=a.n(p),m=a(154),b=a.n(m),h=a(246),v=a(247),E=a(248),y={task:null,discussion:null,calendar:null,event:null};y.task=a(249),y.discussion=a(250),y.calendar=a(251),y.event=a(252);var g={task:null,discussion:null,calendar:null,event:null};g.task=a(253),g.discussion=a(254),g.calendar=a(255),g.event=a(256);var k=new b.a(f.a,{delayResponse:100});k.onGet("".concat(d,"/user/")).reply(200,h),k.onGet("".concat(d,"/developer/")).reply(200,v),k.onGet("".concat(d,"/project/")).reply(200,E),k.onGet("".concat(d,"/task-meta/")).reply(200,y.task),k.onGet("".concat(d,"/discussion-meta/")).reply(200,y.discussion),k.onGet("".concat(d,"/calendar-meta/")).reply(200,y.calendar),k.onGet("".concat(d,"/event-meta/")).reply(200,y.event),k.onGet("".concat(d,"/task/")).reply(200,g.task),k.onGet("".concat(d,"/discussion/")).reply(200,g.discussion),k.onGet("".concat(d,"/calendar/")).reply(200,g.calendar),k.onGet("".concat(d,"/event/")).reply(200,g.event),k.onPut("".concat(d,"/task/")).reply(200,{status:"OK",error:""}),k.onPut("".concat(d,"/discussion/")).reply(200,{status:"OK",error:""}),k.onPatch("".concat(d,"/task/")).reply(200,{status:"OK",error:""}),k.onPatch("".concat(d,"/discussion/")).reply(200,{status:"OK",error:""}),k.onDelete("".concat(d,"/task/")).reply(200,{status:"OK",error:""}),k.onDelete("".concat(d,"/discussion/")).reply(200,{status:"OK",error:""}),k.onPost("".concat(d,"/task/")).reply(200,{status:"OK",error:""}),k.onPost("".concat(d,"/discussion/")).reply(200,{status:"OK",error:""}),f.a.defaults.headers.get["Content-Type"]="application/json",f.a.defaults.headers.post["Content-Type"]="application/json",f.a.defaults.headers.put["Content-Type"]="application/json",f.a.defaults.headers.patch["Content-Type"]="application/json",f.a.defaults.headers.delete["Content-Type"]="application/json";var S=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"getUser",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("".concat(d,"/user/")).then(e._handleApiResult.bind(null,"getUser")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getProject",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("".concat(d,"/project/")).then(e._handleApiResult.bind(null,"getProject")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getDeveloper",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("".concat(d,"/developer/")).then(e._handleApiResult.bind(null,"getDeveloper")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getMetaData",value:function(){var t=Object(r.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("".concat(d,"/").concat(a.replace("_","-"),"/")).then(e._handleApiResult.bind(null,"getMetaData")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getData",value:function(){var t=Object(r.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("".concat(d,"/").concat(a,"/")).then(e._handleApiResult.bind(null,"getData")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"putData",value:function(){var t=Object(r.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.put("".concat(d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"putData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"patchData",value:function(){var t=Object(r.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.patch("".concat(d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"patchData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"deleteData",value:function(){var t=Object(r.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.delete("".concat(d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"deleteData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"postData",value:function(){var t=Object(r.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.post("".concat(d,"/").concat(a,"/"),n).then(e._handleApiResult.bind(null,"postData")));case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"_handleApiResult",value:function(e,t){return console.log(t),t.data.data}}]),e}(),w=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,i,r,c,o,d,p,f,m,b,h,v,E,y,g,k,w,O,T,_,D=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=D.length>1&&void 0!==D[1]?D[1]:"initialize",D.length>2&&void 0!==D[2]?D[2]:{},"user"!==t){e.next=10;break}return e.next=5,S.getUser();case 5:if("ERROR"===(n=e.sent)){e.next=10;break}return u.e.user=n,u.e.login=n.login,e.abrupt("return",n);case 10:if("project"!==t&&"developer"!==t){e.next=22;break}if("project"!==t){e.next=15;break}return e.next=14,S.getProject();case 14:i=e.sent;case 15:if("developer"!==t){e.next=19;break}return e.next=18,S.getDeveloper();case 18:i=e.sent;case 19:if("ERROR"!==i){u.e["".concat(t,"List")]={},r=Object(s.a)(i);try{for(r.s();!(c=r.n()).done;)o=c.value,u.e["".concat(t,"List")][o.id]={id:o.id,value:o.value}}catch(l){r.e(l)}finally{r.f()}}if(u.e["".concat(t,"List")]&&0!==Object.keys(u.e["".concat(t,"List")]).length){e.next=22;break}throw new Error("Data not uploaded");case 22:if(!u.d.map((function(e){return"".concat(e,"_meta")})).includes(t)){e.next=31;break}if(u.e.tables[t]){e.next=28;break}return e.next=26,S.getMetaData(t);case 26:if("ERROR"!==(d=e.sent)){u.e.tables[t]={},u.e.tables[t].dataTable={},p=Object(s.a)(d);try{for(p.s();!(f=p.n()).done;){for(v in m=f.value,b=Object.keys(m)[0],h=Object.values(m)[0])u.e.mobile&&"undefined"!==typeof h.showInTableMobile&&(h.showInTable=h.showInTableMobile),"true"===h[v]&&(h[v]=!0),"false"===h[v]&&(h[v]=!1);"specificParameters"===b?u.e.tables[t][b]=h:"undefined"!==typeof h.validValues&&""!==h.validValues?u.e.tables[t]["".concat(h.id,"List")]=h.validValues:"undefined"!==typeof h.validValues&&""!==h.validValues||"select"!==h.type&&"multi-select"!==h.type||!h.vocabulary||!u.e["".concat(h.vocabulary,"List")]||(u.e.tables[t]["".concat(h.id,"List")]=u.e["".concat(h.vocabulary,"List")]),"specificParameters"!==b&&(u.e.tables[t].dataTable[h.id]=h)}}catch(l){p.e(l)}finally{p.f()}}case 28:if(u.e.tables[t]&&t===u.e.dataTableName+"_meta"){for(E in u.e.tables[t])u.e[E]=u.e.tables[t][E];Object(u.g)([])}for(y in u.e.dataTable)"select"!==(g=u.e.dataTable[y]).type&&"multi-select"!==g.type||u.e["".concat(y,"List")]||!g.vocabulary||!u.e["".concat(g.vocabulary,"List")]||(u.e["".concat(y,"List")]=u.e["".concat(g.vocabulary,"List")]);u.c.setKeys(u.e.dataTable);case 31:if(k=[],!u.d.includes(t)){e.next=42;break}return e.next=35,S.getData(t);case 35:if("ERROR"===(w=e.sent)){e.next=42;break}"initialize"===a&&Object(u.g)([]),O=Object(s.a)(w);try{for(O.s();!(T=O.n()).done;){_=T.value;try{_.id=parseInt(_.id)}catch(j){console.error("\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0435 id \u0441\u0434\u0435\u043b\u0430\u0442\u044c integer")}"meta"===a?(u.e["".concat(t,"List")]||(u.e["".concat(t,"List")]={}),u.e["".concat(t,"List")][_.id]=_):"initialize"===a?u.a.push(_):"direct"===a&&k.push(_)}}catch(l){O.e(l)}finally{O.f()}if("direct"!==a){e.next=42;break}return e.abrupt("return",k);case 42:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(l.a.mark((function e(t,a,s,i){var r,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||(i="task"),r={},c=!0,["put","delete","patch","notify"].includes(t)){e.next=7;break}console.error("Mode [".concat(t,"] is not available")),e.next=31;break;case 7:if(e.prev=7,o={feature:i,data:{data:a,id:s}},"put"!==t){e.next=13;break}return e.next=12,S.putData(i,o);case 12:u=e.sent;case 13:if("patch"!==t){e.next=17;break}return e.next=16,S.patchData(i,o);case 16:u=e.sent;case 17:if("delete"!==t){e.next=21;break}return e.next=20,S.deleteData(i,o);case 20:u=e.sent;case 21:if("notify"!==t){e.next=25;break}return e.next=24,S.postData(i,Object(n.a)(Object(n.a)({},o),{},{method:t}));case 24:u=e.sent;case 25:r="ERROR"!==u?u.data:u,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(7),console.log("Unexpected error ".concat(e.t0));case 31:return e.abrupt("return",[c,r]);case 32:case"end":return e.stop()}}),e,null,[[7,28]])})));return function(t,a,n,s){return e.apply(this,arguments)}}();function T(e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(l.a.mark((function e(t){var a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/smisplan/cgi/upload.pl",(a=new FormData).append("file",t),n={},s=!0,e.prev=5,e.next=8,fetch("/smisplan/cgi/upload.pl",{method:"POST",body:a});case 8:if(!(i=e.sent)||!i.ok){e.next=14;break}return e.next=12,i.json();case 12:"OK"===(n=e.sent).status?s=!1:n.error&&console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: ".concat(n.error));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Unexpected error ".concat(e.t0));case 19:return e.abrupt("return",[n,s]);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}},2:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f}));var n=a(62),s=a(31),i=a(20),l=a(7),r=[{id:"task",value:"\u0417\u0430\u0434\u0430\u0447\u0438",realData:!0},{id:"discussion",value:"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f",realData:!0},{id:"calendar",value:"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c",realData:!0},{id:"event",value:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",realData:!0}],c=r.filter((function(e){return e.realData})).map((function(e){return e.id})),o=[],u={mobile:!1,user:{},dataTableName:"task",projectList:{},developerList:{},dataTable:{},tables:{}},d=function(e){o=e},p=new function e(t){var a=this;Object(i.a)(this,e),this.clear=function(){var e,t=Object(s.a)(a.getKeys());try{for(t.s();!(e=t.n()).done;){var n=e.value;/^_.+/.test(n)?delete a.data[n]:"string"===typeof a.data[n]?a.data[n]="":a.data[n]=[]}}catch(i){t.e(i)}finally{t.f()}},this.setKeys=function(e){Object.values(e).filter((function(e){return e.isFilter})).forEach((function(e){"undefined"===typeof a.data[e.id]&&(a.data[e.id]="")}))},this.setValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;a[e][t]=n;var s=[];for(var i in u.dataTable)u.dataTable[i].vocabulary===t&&s.push(i);s.length>0&&(1===s.length?a[e][s[0]]=n:a[e]["_"+s.join("OR")]=n)},this.getKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return Object.keys(a[e])},this.checkFilter=function(e){return a.getKeys().indexOf(e)>-1},this.checkValue=function(e){var t=!0,n={};for(var i in a.getKeys("data").map((function(e){return Array.isArray(n[e])?n[e].includes(a.data[e]):n[e]=a.data[e]})),a.getKeys("perm").map((function(e){return n[e]=a.perm[e]})),n)if(n[i]&&""!==n[i]&&(u.dataTable[i]||-1!==i.search(/^_.+OR.+$/)||"commonFieldSearch"===i)){if("commonFieldSearch"===i){for(var l in e)if("value"!==l&&l===u.specificParameters.mainValue&&"string"===typeof e[l]&&(t=a.compare(n[i],e[l],!0)))break}else if(-1!==i.search(/^_(.+OR.+)$/)){var r,c=i.replace(/^_(.+OR.+)/,"$1").split("OR"),o=Object(s.a)(c);try{for(o.s();!(r=o.n()).done;){var d=r.value;if(u.dataTable[d]){if("multi-select"===u.dataTable[d].type){var p,f=Object(s.a)(e[d].split(","));try{for(f.s();!(p=f.n()).done;){var m=p.value;if(t=a.compare(n[i],m))break}}catch(E){f.e(E)}finally{f.f()}}else t=a.compare(n[i],e[d]);if(t)break}}}catch(E){o.e(E)}finally{o.f()}}else if("multi-select"===u.dataTable[i].type){var b,h=Object(s.a)(e[i].split(","));try{for(h.s();!(b=h.n()).done;){var v=b.value;if(t=a.compare(n[i],v))break}}catch(E){h.e(E)}finally{h.f()}}else t=a.compare(n[i],e[i]);if(!t)break}return t},this.compare=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"false",n=!0;if("string"===typeof e)if(""!==e&&t&&""!==t&&-1!==t.search(/\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}/)){var s=t.replace(/(\d{4}-\d{2}-\d{2}) \d{2}:\d{2}:\d{2}/,"$1");e!==s&&(n=!1)}else t&&""!==e&&!a?e!==t&&(n=!1):t&&""!==e&&a?-1===t.search(new RegExp(e,"i"))&&(n=!1):t&&""!==t||""===e||(n=!1);else"number"===typeof e?e&&e>0&&e!==parseInt(t)&&(n=!1):e&&e.length>0&&-1===e.indexOf(t)&&(n=!1);return n},this.data={developer:[],project:""},this.perm={};var n=sessionStorage.getItem("filters");if(n&&"{}"!==n){var r,c,o=JSON.parse(n);this.data=(null===(r=o[u.dataTableName])||void 0===r?void 0:r.data)||{},this.perm=(null===(c=o[u.dataTableName])||void 0===c?void 0:c.perm)||{};var d=!1;Object.values(this.data).forEach((function(e){(!Array.isArray(e)&&""!==e||Array.isArray(e)&&e.length>0)&&(d=!0)})),d&&l.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0411\u044b\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})}}({});function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=JSON.parse(sessionStorage.getItem("filters")||"{}");if(e){var a,i;p.data=(null===(a=t[u.dataTableName])||void 0===a?void 0:a.data)||{},p.perm=(null===(i=t[u.dataTableName])||void 0===i?void 0:i.perm)||{}}else{p.data.developer&&p.data.developer.length>0&&r.forEach((function(e){t[e.id]?t[e.id].data.developer=Object(n.a)(p.data.developer):t[e.id]={data:{developer:Object(n.a)(p.data.developer)}}})),t[u.dataTableName]=p;var l=JSON.stringify(t);sessionStorage.setItem("filters",l)}var c,d=[],f=Object(s.a)(o);try{for(f.s();!(c=f.n()).done;){var m=c.value,b=p.checkValue(m);b&&d.push(m)}}catch(h){f.e(h)}finally{f.f()}return d}},218:function(e,t,a){e.exports=a(282)},246:function(e){e.exports=JSON.parse('{"data":{"username":"\u041f\u0443\u0448\u043a\u0438\u043d","login":"pushkin"}}')},247:function(e){e.exports=JSON.parse('{"data":[{"value":"\u041f\u0443\u0448\u043a\u0438\u043d","id":"pushkin"},{"value":"\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432","id":"lermontov"},{"value":"\u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430","id":"akhmatova"},{"value":"\u0411\u0443\u043b\u0433\u0430\u043a\u043e\u0432","id":"bulgakov"},{"value":"\u0426\u0432\u0435\u0442\u0430\u0435\u0432\u0430","id":"tsvetaeva"},{"value":"\u0427\u0430\u0430\u0434\u0430\u0435\u0432","id":"chaadaev"},{"value":"\u0413\u043e\u0440\u044c\u043a\u0438\u0439","id":"gorkiy"},{"value":"\u041a\u0430\u0440\u0435\u043d\u0438\u043d\u0430","id":"Karenina"}]}')},248:function(e){e.exports=JSON.parse('{"data":[{"value":"\u041e\u0442\u0434\u0435\u043b","id":"otdel"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04421","id":"project1"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04422","id":"project2"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04423","id":"project3"},{"value":"\u041f\u0440\u043e\u0435\u043a\u04424","id":"project4"}]}')},249:function(e){e.exports=JSON.parse('{"data":[{"priority":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442","validValues":{"simple":{"value":"\u041d\u0438\u0437\u043a\u0438\u0439","id":"simple"},"medium":{"value":"\u0421\u0440\u0435\u0434\u043d\u0438\u0439","id":"medium"},"hard":{"value":"\u0412\u044b\u0441\u043e\u043a\u0438\u0439","id":"hard"}},"isFilter":"true","hasFullTextLink":"false","showInTableMobile":"false","tableIndex":6,"id":"priority","type":"select","defaultValue":"simple"}},{"status":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0442\u0430\u0442\u0443\u0441","validValues":{"postponed":{"value":"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u0430","id":"postponed"},"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"accepted":{"value":"\u041f\u0440\u0438\u043d\u044f\u0442\u0430","id":"accepted"},"new":{"value":"\u041d\u043e\u0432\u0430\u044f","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"isFilter":"true","hasFullTextLink":"false","showInTableMobile":"false","tableIndex":7,"id":"status","type":"select","defaultValue":"new"}},{"project":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041f\u0440\u043e\u0435\u043a\u0442","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"true","tableIndex":2,"id":"project","type":"select","defaultValue":"56otdel"}},{"dateEnd":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0440\u043e\u043a","validValues":"","isFilter":"true","hasFullTextLink":"false","tableIndex":10,"id":"dateEnd","type":"date","defaultValue":""}},{"description":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","validValues":"","isFilter":"false","hasFullTextLink":"false","tableIndex":4,"id":"description","type":"fulltext","defaultValue":""}},{"taskgroup":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0422\u0435\u043c\u0430","validValues":"","isFilter":"false","hasFullTextLink":"false","tableIndex":11,"id":"taskgroup","type":"select","defaultValue":""}},{"developer":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"true","addMenuIndex":"2","tableIndex":8,"id":"developer","type":"select","defaultValue":""}},{"dateStart":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b","validValues":"","isFilter":"true","hasFullTextLink":"false","tableIndex":9,"id":"dateStart","type":"date","defaultValue":"date"}},{"title":{"isInlineEditable":"true","showInTable":"true","isEditable":"true","value":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","validValues":"","isFilter":"false","hasFullTextLink":"true","addMenuIndex":"1","tableIndex":3,"id":"title","type":"string","defaultValue":""}},{"id":{"isInlineEditable":"false","showInTable":"true","isEditable":"false","value":"ID","validValues":"","isFilter":"false","hasFullTextLink":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"result":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","validValues":"","isFilter":"false","tableIndex":5,"id":"result","type":"string","defaultValue":"empty"}},{"specificParameters":{"hasEditMenu":"true","hasDeleteButton":"true","defaultSortField":"id","defaultSortDirection":"desc","hasQuestions":"true","hasSetStatusMenu":"true","hasGoToDiscussion":"true","hasTitleRow":"false","addMenuTitle":"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430","hasAddMenu":"true","hasDoneButton":"true","tableName":"\u0417\u0430\u0434\u0430\u0447\u0438","hasSublistData":"false","haveDiscussion":"true","mainValue":"title"}}]}')},250:function(e){e.exports=JSON.parse('{"data":[{"status":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0421\u0442\u0430\u0442\u0443\u0441","validValues":{"postponed":{"value":"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043e","id":"postponed"},"done":{"value":"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e","id":"done"},"rejected":{"value":"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043e","id":"rejected"},"new":{"value":"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e","id":"new"}},"isFilter":"true","showInTableMobile":"false","tableIndex":11,"id":"status","type":"select","defaultValue":"new"}},{"time":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0412\u0440\u0435\u043c\u044f","validValues":"","isFilter":"false","addMenuIndex":"4","tableIndex":3,"id":"time","type":"time","defaultValue":""}},{"date":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0414\u0430\u0442\u0430","validValues":"","isFilter":"true","isGroup":"true","addMenuIndex":"3","tableIndex":2,"id":"date","type":"date","defaultValue":""}},{"participants":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","initialValue":"object:data,field:developer","value":"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438","validValues":"","isFilter":"false","isSelectCreatable":"true","tableIndex":9,"id":"participants","type":"multi-select","defaultValue":"","vocabulary":"developer"}},{"mainTable":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"\u0422\u0438\u043f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","validValues":"","isFilter":"false","tableIndex":10,"id":"mainTable","type":"string","defaultValue":"object:meta,field:dataTableName"}},{"theme":{"isInlineEditable":"true","showInTable":"true","isEditable":"true","value":"\u0422\u0435\u043c\u0430","validValues":"","isFilter":"true","hasFullTextLink":"true","isGroup":"true","addMenuIndex":"1","tableIndex":5,"id":"theme","type":"string","defaultValue":"object:data,field:value"}},{"responsible":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","validValues":"","isFilter":"true","addMenuIndex":"2","tableIndex":8,"id":"responsible","type":"select","defaultValue":"","vocabulary":"developer"}},{"week":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"\u043d\u0435\u0434\u0435\u043b\u044f","validValues":"","isFilter":"false","isGroup":"true","tableIndex":13,"id":"week","type":"string","defaultValue":"false"}},{"mainQuestions":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"false","tableIndex":6,"id":"mainQuestions","type":"string","defaultValue":" "}},{"type":{"isInlineEditable":"false","showInTable":"true","isEditable":"true","value":"\u0424\u043e\u0440\u043c\u0430\u0442","validValues":{"offsite":{"value":"\u0412\u044b\u0435\u0437\u0434\u043d\u043e\u0435","id":"offsite"},"otdel":{"value":"\u041e\u0442\u0434\u0435\u043b","id":"otdel"},"zoom":{"value":"Zoom","id":"zoom"},"offline":{"value":"\u0417\u0430\u043e\u0447\u043d\u043e\u0435","id":"offline"},"mixed":{"value":"\u041e\u0442\u0434\u0435\u043b+zoom","id":"mixed"}},"isFilter":"true","isSelectCreatable":"true","showInTableMobile":"false","tableIndex":12,"id":"type","type":"select","defaultValue":"otdel"}},{"videoConf":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0412\u0438\u0434\u0435\u043e\u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u044f","validValues":"","isFilter":"false","hasFullTextLink":"false","isGroup":"false","tableIndex":13,"id":"videoConf","type":"string","defaultValue":" "}},{"idTask":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"ID \u0437\u0430\u0434\u0430\u0447\u0438","validValues":"","isFilter":"false","tableIndex":4,"id":"idTask","type":"int","defaultValue":"object:data,field:id"}},{"id":{"isInlineEditable":"false","showInTable":"false","isEditable":"false","value":"ID","validValues":"","isFilter":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"result":{"isInlineEditable":"false","showInTable":"false","isEditable":"true","value":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","validValues":"","isFilter":"false","hasFileUploader":"true","tableIndex":7,"id":"result","type":"fulltext","defaultValue":"empty"}},{"specificParameters":{"hasEditMenu":"true","hasDeleteButton":"true","hasEditMenuSaveAsNew":"true","hasNotificationButton":"true","defaultSortField":"week,date,time","defaultSortDirection":"desc,asc,asc","hasQuestions":"false","hasSetStatusMenu":"true","defaultGroupField":"week","hasTitleRow":"false","hasAddMenu":"true","hasDoneButton":"false","tableName":"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","hasSublistData":"true","mainValue":"theme"}}]}')},251:function(e){e.exports=JSON.parse('{"data":[{"date":{"value":"\u0414\u0430\u0442\u0430","type":"date","id":"date"}},{"time":{"value":"\u0412\u0440\u0435\u043c\u044f","type":"time","id":"time"}},{"description":{"value":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","type":"string","id":"description"}},{"specificParameters":{"hasEditMenu":"false","hasDeleteButton":"false","defaultSortField":"date","defaultSortDirection":"desc","hasTitleRow":"false","hasDoneButton":"false","hasAddMenu":"false","hasSpecNotes":"false"}}]}')},252:function(e){e.exports=JSON.parse('{"data":[{"status_new":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"new":{"value":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"value":"\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u043e\u0432\u044b\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":8,"id":"status_new","type":"select","defaultValue":"new"}},{"dt":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":7,"id":"dt","type":"datetime","defaultValue":""}},{"change_all":{"showInTable":"false","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","isFilter":"false","hasFullTextLink":"false","tableIndex":8,"id":"change_all","type":"fulltext","defaultValue":""}},{"developer":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439","isFilter":"false","hasFullTextLink":"false","tableIndex":5,"id":"developer","type":"select","defaultValue":""}},{"task_id":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"ID \u0437\u0430\u0434\u0430\u0447\u0438","isFilter":"false","hasFullTextLink":"false","tableIndex":4,"id":"task_id","type":"int","defaultValue":""}},{"mainTable":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"spec_notes":{"value":"\u0412\u043e\u043f\u0440\u043e\u0441\u044b","id":"spec_notes"},"taskgroup":{"value":"\u0422\u0435\u043c\u044b","id":"taskgroup"},"task":{"value":"\u0417\u0430\u0434\u0430\u0447\u0438","id":"task"},"discussion":{"value":"\u041e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f","id":"discussion"}},"value":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430","isFilter":"true","hasFullTextLink":"false","tableIndex":3,"id":"mainTable","type":"select","defaultValue":"task"}},{"theme":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u0422\u0435\u043c\u0430","isFilter":"false","hasFullTextLink":"true","tableIndex":6,"id":"theme","type":"string","defaultValue":""}},{"project":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"\u041f\u0440\u043e\u0435\u043a\u0442","isFilter":"false","hasFullTextLink":"false","tableIndex":5,"id":"project","type":"select","defaultValue":"56otdel"}},{"event":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":{"del":{"value":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435","id":"del"},"put":{"value":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435","id":"put"},"upd":{"value":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435","id":"upd"}},"value":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435","isFilter":"true","hasFullTextLink":"false","tableIndex":2,"id":"event","type":"select","defaultValue":""}},{"status_old":{"showInTable":"false","isInlineEditable":"false","isEditable":"false","validValues":{"done":{"value":"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430","id":"done"},"new":{"value":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430","id":"new"},"work":{"value":"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435","id":"work"}},"value":"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u0442\u0430\u0440\u044b\u0439","isFilter":"true","hasFullTextLink":"false","tableIndex":9,"id":"status_old","type":"select","defaultValue":"new"}},{"id":{"showInTable":"true","isInlineEditable":"false","isEditable":"false","validValues":"","value":"ID","isFilter":"false","hasFullTextLink":"false","tableIndex":1,"id":"id","type":"int","defaultValue":""}},{"specificParameters":{"hasEditMenu":"false","hasDeleteButton":"false","defaultSortField":"dt","defaultSortDirection":"desc","hasTitleRow":"false","tableName":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","hasDoneButton":"false","hasAddMenu":"false","hasSpecNotes":"false"}}]}')},253:function(e){e.exports=JSON.parse('{"data":[{"priority":"simple","status":"done","project":"project1","value":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","dateEnd":"2021-04-01","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0433\u043e\u0434\u0443 \u0433\u043e\u0434\u0443","taskgroup":"","developer":"pushkin","dateStart":"2021-04-01","id":"2","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","result":null},{"priority":"simple","status":"done","project":"otdel","value":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","dateEnd":"2021-04-01","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","taskgroup":"","developer":"pushkin","dateStart":"2021-04-01","id":"1","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","result":null}]}')},254:function(e){e.exports=JSON.parse('{"data":[{"responsible":"pushkin","status":"done","value":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","time":"16:55:00","week":"2020.3","date":"2020-07-21","mainQuestions":"","participants":"pushkin,tsvetaeva,akhmatova","type":"zoom","mainTable":"task","id":"1","idTask":"1","videoConf":"","result":"","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443"}]}')},255:function(e){e.exports=JSON.parse('{"data":[{"responsible":"pushkin","status":"done","time":"14:30:00","date":"2021-08-30","description":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0433\u043e\u0434\u0443","participants":"pushkin,tsvetaeva,akhmatova","type":"zoom","id":"1","mainTable":"task","idTask":"1","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432","result":""}]}')},256:function(e){e.exports=JSON.parse('{"data":[{"project":null,"dt":"2021-08-29 19:26:30","event":"put","task_id":"1","developer":"pushkin","change_all":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f: \\n \u0414\u0430\u0442\u0430: 2021-08-31 \u2192 2021-09-01 \\n","status_old":"new","status_new":"new","id":"1","mainTable":"task","theme":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0438\u0445\u043e\u0432"}]}')},265:function(e,t,a){},271:function(e,t,a){},272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},275:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(17),l=a.n(i),r=a(62),c=a(21),o=a(2),u=a(19),d=a(7),p=a(332),f=a(355),m=a(336),b=a(24),h=a(107);var v=s.a.memo((function(e){var t=e.reloadDataTable,a=-1!==window.location.href.search(/localhost:3000/)?"":"smisplan",n=function(e){var t=e.split("/").slice(1);return t[0]===a&&t.shift(),t[0]},i=n(document.location.pathname),l=s.a.useState("".concat(a&&"/"+a,"/").concat(o.d.includes(i)?i:"task")),r=Object(c.a)(l,2),u=r[0],v=r[1],E=function(e,a){v(a);var s=n(a);switch(o.c.perm=[],s){case"spec_notes":t(s,(function(){o.c.setValue("perm","_authorORdeveloper",o.e.user.login)}));break;case"daily":t("task",(function(){var e=new Date;o.c.setValue("data","dateEnd",e.toISOString().replace(/(.+)T(.+)\..+/,"$1")),o.c.setValue("data","status","done"),v(a)}));break;default:t(s)}};return s.a.useEffect((function(){var e=function(){d.a.table.subscribe((function(){var e=d.a.table.getState().TABLE.tableName;e&&v("".concat(a&&"/"+a,"/").concat(e))}))};return e(),e()}),[a]),s.a.createElement(p.a,{position:"static",className:"header-modes-projects__bar",color:"default"},s.a.createElement(b.b,{path:"/",render:function(e){e.location;return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{value:u,onChange:E,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example"},o.f.map((function(e,t){return s.a.createElement(m.a,Object.assign({className:"header-modes-projects__modes-item",label:e.value},function(e){return{id:"modes-tab-".concat(e),"aria-controls":"modes-tabpanel-".concat(e)}}(t),{key:e.id,disabled:!!e.disabled,value:"".concat(a&&"/"+a,"/").concat(e.id),to:"".concat(a&&"/"+a,"/").concat(e.id),component:h.b}))}))),s.a.createElement(b.d,null,o.f.map((function(e,t){return s.a.createElement(b.b,{path:"".concat(a&&"/"+a,"/").concat(e.id),key:"Link-".concat(e.id)})})),s.a.createElement(b.a,{to:"".concat(a&&"/"+a,"/").concat(i)})))}}))})),E=a(20),y=a(25),g=a(18),k=a(26),S=a(27);function w(e){return{id:"projects-tab-".concat(e),"aria-controls":"projects-tabpanel-".concat(e)}}var O=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setProjects=function(e){n.setState({projects:e})},n.setValue=function(e){n.setState({value:e})},n.reloadActiveProjects=function(){var e=[],t={};o.a.map((function(e){return t[e.project]=!0}));var a={},s={};for(var i in o.e.projectList)t[i]&&!a[i]&&(o.e.projectList[i].showAsDisabled=!1,a[i]=o.e.projectList[i]),t[i]||s[i]||(o.e.projectList[i].showAsDisabled=!0,s[i]=o.e.projectList[i]);Object.values(a).sort((function(e,t){return e.value>=t.value?1:-1})).map((function(t){return e.push(t)})),Object.values(s).sort((function(e,t){return e.value>=t.value?1:-1})).map((function(t){return e.push(t)})),n.setProjects(e)},n.handleChange=function(e,t){o.c.setValue("data","project",0===t?"":n.state.projects[t-1].id),d.a.data.dispatch({type:"REDRAW",redraw:!0}),n.setValue(t)},n.state={value:0,projects:Object.values(o.e.projectList)},n.setValue=n.setValue.bind(Object(g.a)(n)),n.setProjects=n.setProjects.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.c)("project").then((function(){return e.setProjects(Object.values(o.e.projectList))})),this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;t&&"data"===t&&(e.setValue(0),e.reloadActiveProjects())})),this.unsubscribeUpd=d.a.upd.subscribe((function(){d.a.upd.getState().UPD.update&&e.reloadActiveProjects()})),this.unsubscribeData=d.a.data.subscribe((function(){d.a.data.getState().DATA.redraw&&(!o.c.data.project||""===o.c.data.project)&&e.state.value>0&&e.setValue(0)}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribeData(),this.unsubscribeUpd()}},{key:"render",value:function(){var e={},t=this.state.value,a=this.state.projects;return s.a.createElement(p.a,{position:"static",className:"header-modes-projects__bar",color:"default"},s.a.createElement(f.a,{value:t,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on","aria-label":"scrollable auto tabs example"},s.a.createElement(m.a,Object.assign({label:"\u0412\u0441\u0435"},w(0),{key:"all",classes:{root:e.tabStyles},className:"header-modes-projects__modes-item"})),a.map((function(t,a){return s.a.createElement(m.a,Object.assign({label:t.value},w(a+1),{key:t.id,disabled:!!t.showAsDisabled,classes:{root:e.tabStyles},className:"header-modes-projects__modes-item"}))}))))}}]),a}(s.a.PureComponent);a(265);var T=s.a.memo((function(e){return s.a.createElement("div",{className:"header-modes-projects"},s.a.createElement(v,{reloadDataTable:e.reloadDataTable}),s.a.createElement(O,{class:"divProjectList"}))})),_=a(293),D=a(115),j=a(102),x=a.n(j),I=a(109),L=a.n(I),N=a(150),A=a.n(N),P=a(196),C=a(339),R=a(358),F=a(93),M=a.n(F),V=a(15),Y=(a(271),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setCheckedElSubList=function(e){n.setState({checkedElSubList:e})},n.handleClickItem=function(e){return function(t){var a=document.documentElement,s=getComputedStyle(a).getPropertyValue("--icons-filter-".concat(e));a.style.setProperty("--icons-filter",s);var i=getComputedStyle(a).getPropertyValue("--hover-filter-".concat(e));a.style.setProperty("--hover-filter",i),n.setState({menuElSub_c:null}),n.setState({menuEl:null})}},n.handleClickItemSub=function(e){return function(t){var a=n.state.checkedElSubList;-1!==a.indexOf(e)?(o.e.dataTable[e].showInTable=!1,a=a.filter((function(t){return t!==e}))):(o.e.dataTable[e].showInTable=!0,a.push(e)),d.a.state.dispatch({type:"SET_DATALOADING",stage:"meta"}),n.setState({checkedElSubList:a}),n.setState({menuElSub:null}),n.setState({menuEl:null})}},n.openUrl=function(e){window.open(e,"_blank","")},n.state={opened:e.isOpened||!1,menuEl:null,menuElSub_c:null,menuElSub:null,checkedElSubList:[]},n.setCheckedElSubList=n.setCheckedElSubList.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;t&&"data"===t&&e.setCheckedElSubList(Object.keys(o.e.dataTable).filter((function(e){return o.e.dataTable[e].showInTable})))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(V.a,{class:"icn_settings",tip:"\u041e\u043f\u0446\u0438\u0438 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",fontSize:"large",action:function(t){return e.setState({menuEl:t.currentTarget})}}),s.a.createElement(P.a,{id:"filter-menu-id-".concat(this.props.name),anchorEl:this.state.menuEl,keepMounted:!0,open:Boolean(this.state.menuEl),onClose:function(){return e.setState({menuEl:null})},className:"menu-item-settings"},s.a.createElement(C.a,{key:"menu-colors",className:"menu-item-settings__item",onClick:function(t){return e.setState({menuElSub_c:t.currentTarget})}},s.a.createElement("div",null,"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430"),s.a.createElement(M.a,{fontSize:"default"})),s.a.createElement(P.a,{anchorEl:this.state.menuElSub_c,keepMounted:!0,open:Boolean(this.state.menuElSub_c),onClose:function(){return e.setState({menuElSub_c:null})},className:"menu-item-settings__item-menu"},s.a.createElement(C.a,{key:"menu-".concat(this.props.name,"-standart"),onClick:this.handleClickItem("standart")},"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430"),s.a.createElement(C.a,{key:"menu-".concat(this.props.name,"-red"),onClick:this.handleClickItem("red")},"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u0441\u0445\u0435\u043c\u0430"),s.a.createElement(C.a,{key:"menu-".concat(this.props.name,"-blue"),onClick:this.handleClickItem("blue")},"\u0421\u0438\u043d\u044f\u044f \u0441\u0445\u0435\u043c\u0430")),s.a.createElement(C.a,{key:"menu-columns",className:"menu-item-settings__item",onClick:function(t){return e.setState({menuElSub:t.currentTarget})}},s.a.createElement("div",null,"\u041a\u043e\u043b\u043e\u043d\u043a\u0438"),s.a.createElement(M.a,{fontSize:"default"})),s.a.createElement(P.a,{id:"columns-menu-id",anchorEl:this.state.menuElSub,keepMounted:!0,open:Boolean(this.state.menuElSub),onClose:function(){return e.setState({menuElSub:null})},className:"menu-item-settings__item-menu"},Object.values(o.e.dataTable).filter((function(e){return e.value&&""!==e.value})).sort((function(e,t){return e.value>=t.value?1:-1})).map((function(t){return s.a.createElement(C.a,{key:"menu-columns-".concat(t.id),onClick:e.handleClickItemSub(t.id)},s.a.createElement(R.a,{className:"menu-item-settings__menu-checkbox",edge:"start",ref:"checkbox-".concat(t.id),checked:-1!==e.state.checkedElSubList.indexOf(t.id),tabIndex:-1,disableRipple:!0}),t.value)}))),s.a.createElement(C.a,{key:"manual",onClick:function(){e.openUrl("http://d902.iki.rssi.ru/smisplan-docs/SMISplan.pdf"),e.setState({menuEl:null})}},s.a.createElement("div",{className:"menu-item-settings__item"},"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f"))))}}]),a}(s.a.PureComponent)),z=a(340),W=a(50),H=a(98),B=(a(272),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setCheckedElSubList=function(e){n.setState({checkedElSubList:e})},n.handleClickItem=function(e){return function(t){var a=new H.a,s=a.getWeek();switch(e){case"discussionNotification":var i="".concat(a.getFullYear(),".").concat(s+(a.getDay()>=5?1:0));d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."});var l={week:i,mode:"done",feature:"discussion"};Object(u.a)("notify",l,void 0,"notification").then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}));break;default:n.props.reloadDataTable("discussion",(function(){o.c.data.week="".concat(a.getFullYear(),".").concat(s+(a.getDay()>=5?1:0))}))}n.setState({menuEl:null})}},n.state={menuEl:null,menuElSub_c:null,menuElSub:null,checkedElSubList:[]},n.setCheckedElSubList=n.setCheckedElSubList.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;t&&"meta"===t&&e.setCheckedElSubList(Object.keys(o.e.dataTable).filter((function(e){return o.e.dataTable[e].showInTable})))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(V.a,{class:this.props.class,tip:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430",fontSize:"large",action:function(t){return e.setState({menuEl:t.currentTarget})}}),s.a.createElement(P.a,{id:"filter-menu-id-".concat(this.props.name),anchorEl:this.state.menuEl,keepMounted:!0,open:Boolean(this.state.menuEl),onClose:function(){return e.setState({menuEl:null})},className:"menu-item-chief"},s.a.createElement(C.a,{key:"menu-".concat(this.props.name,"-discussion"),onClick:this.handleClickItem("discussion")},s.a.createElement(z.a,null,s.a.createElement(V.a,{class:"icn_discussionList",tip:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"})),s.a.createElement(W.a,{variant:"inherit",noWrap:!0},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439")),s.a.createElement(C.a,{key:"menu-".concat(this.props.name,"-discussionNotification"),onClick:this.handleClickItem("discussionNotification")},s.a.createElement(z.a,null,s.a.createElement(V.a,{class:"icn_notification",tip:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u0435\u0434\u0435\u043b\u0435"})),s.a.createElement(W.a,{variant:"inherit",noWrap:!0},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445"))))}}]),a}(s.a.PureComponent)),G=(a(273),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).filtersOff=function(){o.c.clear();var e=JSON.parse(sessionStorage.getItem("filters")||"{}");e[o.e.dataTableName]={data:{},perm:{}};var t=JSON.stringify(e);sessionStorage.setItem("filters",t),d.a.data.dispatch({type:"REDRAW",redraw:!0})},n.reloadDataTable=function(e){n.filtersOff(),n.props.reloadDataTable(e)},n.state={username:""},n._columnsList=s.a.createRef(),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(u.c)("user").then((function(t){return e.setState({username:t.username})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"header-login"},s.a.createElement("div",{className:"header-login__menu"},s.a.createElement(A.a,{trigger:function(){return s.a.createElement(_.a,{title:"\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"},s.a.createElement(D.a,{className:"icn",style:{padding:"0px"}},s.a.createElement(x.a,{fontSize:"large"})))},content:function(){return e.props.dataRef.current}}),s.a.createElement(Y,{ref:this._columnsList,class:"icn_filter",name:"MenuSettings"}),s.a.createElement(B,{class:"icn_chief",name:"MenuChief",reloadDataTable:this.props.reloadDataTable}),s.a.createElement(_.a,{title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"},s.a.createElement(D.a,{className:"icn",style:{padding:"0px"},onClick:this.filtersOff},s.a.createElement(L.a,{fontSize:"large"})))),s.a.createElement("div",{className:"header-login__login"},s.a.createElement("b",null,"\u041b\u043e\u0433\u0438\u043d"),": ",this.state.username))}}]),a}(s.a.PureComponent)),U=a(343),J=a(31),K=a(338),$=a(285),q=a(341),Q=a(342);a(274);function Z(e){var t=[];if(o.a){var a,n=Object(J.a)(o.a);try{for(n.s();!(a=n.n()).done;){var s=a.value;s.author&&""!==s.author&&-1===t.indexOf(s.author)&&t.push(s.author),s.developer&&""!==s.developer&&-1===t.indexOf(s.developer)&&t.push(s.developer)}}catch(d){n.e(d)}finally{n.f()}}var i={},l={};if(Object.keys(e).length>0)for(var r=0,c=Object.keys(e);r<c.length;r++){var u=c[r];-1!==t.indexOf(u)?i[u]=e[u]:l[u]=e[u]}return[i,l]}var X=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setOpen=function(e){return n.setOpen({open:e})},n.setChecked=function(e){return n.setState({checked:e})},n.resortDevelopers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.e.developerList,t=[];t=Z(e);var a=[];return Object.keys(t[0]).length>0?(Object.keys(t[0]).sort((function(e,a){return t[0][e].value>=t[0][a].value?1:-1})).map((function(e){return a.push(e)})),a.push("divider"),Object.keys(t[1]).sort((function(e,a){return t[1][e].value>=t[1][a].value?1:-1})).map((function(e){return a.push(e)}))):Object.keys(t[1]).length>0?Object.keys(t[1]).sort((function(e,a){return t[1][e].value>=t[1][a].value?1:-1})).map((function(e){return a.push(e)})):Object.keys(e).sort((function(t,a){return e[t].value>=e[a].value?1:-1})).map((function(e){return a.push(e)})),a},n.handleToggle=function(e){return function(t){if(""!==e){var a=n.state.checked.indexOf(e),s=Object(r.a)(n.state.checked);-1===a?s.push(e):s.splice(a,1),o.c.setValue("data","developer",Object(r.a)(s)),d.a.data.dispatch({type:"REDRAW",redraw:!0}),n.setChecked(s)}else d.a.data.dispatch({type:"REDRAW",redraw:!0}),n.props.updateData()}},n.state={open:!0,checked:[],developers:Object.keys(o.e.developerList)},n.inputFilter=n.props.developer,n.setOpen=n.setOpen.bind(Object(g.a)(n)),n.setChecked=n.setChecked.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;t&&"data"===t&&(e.setState({developers:e.resortDevelopers()}),o.c.setValue("data","developer",e.state.checked)),e.inputFilter&&(o.c.setValue("data","developer",[e.inputFilter]),d.a.data.dispatch({type:"REDRAW",redraw:!0}),e.setChecked([e.inputFilter]),e.inputFilter=void 0)})),this.unsubscribeUpd=d.a.upd.subscribe((function(){d.a.upd.getState().UPD.update&&e.setState({developers:e.resortDevelopers()})})),this.unsubscribeData=d.a.data.subscribe((function(){d.a.data.getState().DATA.redraw&&o.c.data.developer&&0===o.c.data.developer.length&&e.state.checked.length>0&&e.setChecked([])}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribeUpd(),this.unsubscribeData()}},{key:"render",value:function(){var e=this,t=this.state.developers;return s.a.createElement(K.a,{dense:!0,className:"checkbox-list-filter"},t.map((function(t){var a="divider"!==t?o.e.developerList[t]:null,n="divider"!==t?"checkbox-list-label-".concat(a.id):null;return"divider"!==t?s.a.createElement($.a,{key:a.id,role:void 0,size:"small",className:"checkbox-list-filter__list-item",button:!0,onClick:e.handleToggle(a.id)},s.a.createElement(z.a,null,s.a.createElement(R.a,{className:"checkbox-list-filter__checkbox",edge:"start",checked:-1!==e.state.checked.indexOf(a.id),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})),s.a.createElement(q.a,{id:n,primary:"".concat(a.value),className:"checkbox-list-filter__text"})):s.a.createElement(Q.a,{key:"divider"})})))}}]),a}(s.a.PureComponent),ee=(a(275),function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setOpen=function(e){var t=document.documentElement,a=getComputedStyle(t).getPropertyValue("--width-left-side");t.style.setProperty("--width-left-side-bottom",n.state.open?"0px":a),n.setState({open:e})},n.handleShow=function(){n.setOpen(!0)},n.handleHide=function(){n.setOpen(!1)},n.state={open:!0},n.setOpen=n.setOpen.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;t&&"data"===t&&(["discussion","calendar"].includes(o.e.dataTableName)?e.state.open&&e.setOpen(!1):e.state.open||e.setOpen(!0))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=Object.values(this.props.developers).map((function(e){return{id:e.id,value:e.value}}));return[s.a.createElement(U.a,{key:"leftSideDrawer",variant:"persistent",anchor:"left",open:this.state.open,classes:{paper:"left-side-bar"}},s.a.createElement(X,{developer:this.props.developer,list:e})),s.a.createElement("div",{key:"showHideButton",className:"divSpacingBottom"},this.state.open?s.a.createElement(V.a,{class:"icn_arrow_left_fill",tip:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",fontSize:"large",action:this.handleHide,style:{borderRadius:"0px"}}):s.a.createElement(V.a,{class:"icn_arrow_right_fill",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",fontSize:"large",action:this.handleShow,style:{borderRadius:"0px"}}))]}}]),a}(s.a.PureComponent)),te=a(344);function ae(){return s.a.createElement("div",{style:{textAlign:"center",paddingTop:"200px"}},s.a.createElement(te.a,{style:{width:"100px",height:"100px"}}),";")}var ne=a(87),se=a(96),ie=a(16),le=a.n(ie),re=a(34),ce=a(352),oe=a(353),ue=a(348),de=a(349),pe=a(354),fe=a(346),me=a(291),be=a(28),he=a.n(be),ve=(a(206),a(360)),Ee=a(134),ye=a(36),ge=a(345),ke=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setAnchorEl=function(e){n.setState({anchorEl:e})},n.handleClick=function(e){n.setAnchorEl(e.currentTarget)},n.handleClose=function(){n.setAnchorEl(null)},n.handleClickItem=function(e,t){if("filter"===n.props.type){if("object"!==typeof n.props.itemList&&("datetime"===n.props.itemList||"date"===n.props.itemList)){var a={};a[e]=t,n.setState(a)}"all"===t?o.c.data={}:"noClose"===t?"object"===typeof n.props.itemList&&(o.c.data[e]=[],Object.values(n.props.itemList).filter((function(e){return"done"!==e.id})).forEach((function(t){return o.c.data[e].push(t.id)}))):o.c.data[e]=t,n.props.action(Object(o.b)())}else"group"===n.props.type&&n.props.action(t);n.setAnchorEl(null)},n.state={anchorEl:null},n.state[n.props.name]=o.c.data[n.props.name]?o.c.data[n.props.name]:void 0,n.setAnchorEl=n.setAnchorEl.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.itemList;return s.a.createElement("div",null,"filter"===this.props.type&&s.a.createElement(V.a,{class:"icn_filter",tip:"\u0444\u0438\u043b\u044c\u0442\u0440",action:this.handleClick}),"group"===this.props.type&&s.a.createElement(V.a,{class:"icn_group",tip:"\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",action:this.handleClick}),s.a.createElement(P.a,{id:"filter-menu-id-".concat(this.props.name),anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,className:"tbl-header-btn-menu"},this.props.all&&s.a.createElement(C.a,{onClick:function(){return e.handleClickItem(e.props.name,"all")}},"\u0412\u0441\u0435"),this.props.noClose&&"status"===this.props.name&&s.a.createElement(C.a,{onClick:function(){return e.handleClickItem(e.props.name,"noClose")}},"\u0412\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435"),"object"===typeof t&&Object.keys(t).map((function(a){return s.a.createElement(C.a,{key:"menu-".concat(e.props.name,"-").concat(t[a].id),style:{backgroundColor:o.c.data[e.props.name]===a?"var(--color-tasks-gray)":""},onClick:function(){return e.handleClickItem(e.props.name,t[a].id)}},t[a].value)})),"object"!==typeof t&&"datetime"===t&&s.a.createElement(C.a,null,s.a.createElement(ye.a,{utils:Ee.a,style:{width:"0px",margin:"0px",marginLeft:"-18px"},className:"tbl-header-btn-menu__datepicker"},s.a.createElement(ge.a,{format:"YYYY-MM-DD",margin:"normal",onChange:function(t,a){e.handleClickItem(e.props.name,a)},value:this.state[this.props.name],style:{width:"0px",margin:"0px",marginLeft:"-18px"},className:"tbl-header-btn-menu__datepicker",inputRef:function(t){return e[e.props.name]=t}})))))}}]),a}(s.a.Component),Se=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setCoumnWidth=function(e){for(var t in n.widths={},e)e[t].showInTable&&(n.widths[t]=n.getColumnWidth(e[t]));n.hasAdditionalCell=function(e){var t=!1;return e&&(e.hasSpecAction||e.hasSpecNotes||e.hasEditMenu||e.hasDeleteButton||e.hasDoneButton)&&(t=!0),t}(o.e.specificParameters)},n.createSortHandler=function(e){return function(t){n.props.onRequestSort(t,e)}},n.createGroupHandler=function(e){n.props.onRequestGroup(void 0,n.props.groupBy===e?"":e)},n.handleDateFilter=function(e,t){var a={};a[e]=t,n.setState(a),o.c.setValue("data",e,t),n.props.onFilter(Object(o.b)())},n.getColumnWidth=function(e){var t="",a=e.value.length*(window.innerWidth<=1400?8:10)+24;switch(e.isFilter&&!o.e.mobile&&(a+=30),e.isGroup&&!o.e.mobile&&(a+=30),e.type){case"int":t=45<a?"".concat(a,"px"):"45px";break;case"string":e.isInlineEditable||"theme"===e.id||(t=window.innerWidth<=1400?90<a?"".concat(a,"px"):"90px":110<a?"".concat(a,"px"):"110px");break;case"select":e.isInlineEditable||(t=window.innerWidth<=1400?105<a?"".concat(a,"px"):"105px":120<a?"".concat(a,"px"):"120px");break;case"multi-select":e.isInlineEditable||(t=window.innerWidth<=1400?155<a?"".concat(a,"px"):"155px":170<a?"".concat(a,"px"):"170px");break;case"datetime":case"date":case"time":e.isInlineEditable||(t=window.innerWidth<=1400?80<a?"".concat(a,"px"):"80px":100<a?"".concat(a,"px"):"100px");break;default:t=""}return t},n.state={isHovered:""},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;this.setCoumnWidth(o.e.dataTable);var t=this.props,a=t.order,i=t.orderBy,l=t.groupBy,r=t.headCells,c=this.state.isHovered,u={};return this.props.sort.map((function(e){return u[e.field]=e})),s.a.createElement(ue.a,{className:"data-table__header-row"},Object.values(r).filter((function(e){return e.showInTable})).sort((function(e,t){return e.tableIndex>=t.tableIndex?1:-1})).map((function(t,r){var d=c===t.id||o.c.checkFilter(t.id)&&""!==o.c.data[t.id]?"visible":"hidden",p=c===t.id||l&&l===t.id?"visible":"hidden",f=0===r?"10px":"0px",m="theme"===t.id?"220px":"",b=e.widths[t.id],h=-1!==["datetime","date"].indexOf(t.type)?"datetime":o.e["".concat(t.id,"List")],v={};return t.isGroup&&(v[t.id]={id:t.id,value:t.value},"date"===t.type&&(v.week={id:"week",value:"\u041d\u0435\u0434\u0435\u043b\u044f"})),s.a.createElement(n.Fragment,{key:t.id},s.a.createElement(de.a,{align:"left",padding:"none",className:"data-table__header-cell",style:{minWidth:m,width:b,maxWidth:"",paddingLeft:f},onMouseEnter:function(){return e.setState({isHovered:t.id})},onMouseLeave:function(){return e.setState({isHovered:void 0})},sortDirection:i===t.id&&a},s.a.createElement(ve.a,{active:!!u[t.id],direction:u[t.id]?u[t.id].order:"asc",onClick:e.createSortHandler(t.id)},t.value,u[t.id]?s.a.createElement("span",null):null),t.isGroup&&!o.e.mobile&&s.a.createElement("div",{className:"data-table__pagination-button ".concat("visible"===p?"visible":"invisible")},s.a.createElement(ke,{class:"icn_filter",name:t.id,action:e.createGroupHandler,type:"group",itemList:v})),t.isFilter&&!o.e.mobile&&s.a.createElement("div",{className:"data-table__pagination-button ".concat("visible"===d?"visible":"invisible")},s.a.createElement(ke,{class:"icn_filter",name:t.id,action:e.props.onFilter,all:!0,noClose:!0,type:"filter",itemList:h}))),t.isInlineEditable&&"string"===t.type&&s.a.createElement(de.a,{style:{width:"10px"}}))})),this.hasAdditionalCell&&s.a.createElement(de.a,{style:{width:o.e.table?"53px":"1px"}}))}}]),a}(s.a.PureComponent);function we(e){var t=s.a.useState(""),a=Object(c.a)(t,2),n=a[0],i=a[1],l=function(){i(""),e.setSearch("")};return s.a.createElement(fe.a,{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",value:n,inputProps:{style:{fontSize:"var(--font-size-table)",width:"200px"}},onChange:function(e){i(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&e.setSearch(n),"Escape"===t.key&&l()},startAdornment:s.a.createElement(me.a,{position:"start"},s.a.createElement(V.a,{class:"icn_search",tip:"\u041d\u0430\u0439\u0442\u0438",action:function(){e.setSearch(n)}})),endAdornment:s.a.createElement(me.a,{position:"end"},s.a.createElement(V.a,{class:"icn_clear",tip:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a",action:l}))})}var Oe=a(361),Te=a(191),_e=a.n(Te),De=a(194),je=a.n(De),xe=a(192),Ie=a.n(xe),Le=a(193),Ne=a.n(Le);function Ae(e){return s.a.createElement(Oe.a,{rowsPerPageOptions:[50,100,200],component:"div",count:e.count,rowsPerPage:e.rowsPerPage,page:e.page,onChangePage:e.onChangePage,onChangeRowsPerPage:e.onChangeRowsPerPage,labelRowsPerPage:"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u043e",labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," \u0438\u0437 ").concat(n)},backIconButtonProps:{style:{paddingTop:"0px",paddingBottom:"0px"}},nextIconButtonProps:{style:{paddingTop:"0px",paddingBottom:"0px"}},classes:{toolbar:"data-table__pagination-toolbar",select:"data-table__pagination-select"},className:"data-table__pagination",ActionsComponent:function(e){var t=e.count,a=e.page,n=e.rowsPerPage,i=e.onChangePage,l=Math.ceil(t/n);return s.a.createElement("div",{className:"data-table__pagination-actions"},s.a.createElement(_.a,{title:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",placement:"bottom",enterDelay:300},s.a.createElement("span",null,s.a.createElement(D.a,{onClick:function(e){return i(e,0)},disabled:0===a,"aria-label":"\u041f\u0435\u0440\u0432\u0430\u044f",className:"data-table__pagination-select"},s.a.createElement(_e.a,{fontSize:"small"})))),s.a.createElement(_.a,{title:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f",placement:"bottom",enterDelay:300},s.a.createElement("span",null,s.a.createElement(D.a,{onClick:function(e){return i(e,a-1)},disabled:0===a,"aria-label":"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f",className:"data-table__pagination-select"},s.a.createElement(Ie.a,{fontSize:"small"})))),s.a.createElement(_.a,{title:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f",placement:"bottom",enterDelay:300},s.a.createElement("span",null,s.a.createElement(D.a,{onClick:function(e){return i(e,a+1)},disabled:a>=l-1,"aria-label":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f",className:"data-table__pagination-select"},s.a.createElement(Ne.a,{fontSize:"small"})))),s.a.createElement(_.a,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",placement:"bottom",enterDelay:300},s.a.createElement("span",null,s.a.createElement(D.a,{onClick:function(e){return i(e,l-1)},disabled:a>=l-1,"aria-label":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f",className:"data-table__pagination-select"},s.a.createElement(je.a,{fontSize:"small"})))))}})}var Pe=a(287),Ce=a(350),Re=a(288),Fe=a(289),Me=a(95),Ve=a(97),Ye=a.n(Ve),ze=a(131),We=a.n(ze),He=a(357),Be=a(362),Ge=a(351);a(277);function Ue(e){var t=s.a.useState(!1),a=Object(c.a)(t,2),n=a[0],i=a[1],l=s.a.useState(0),r=Object(c.a)(l,2),o=r[0],u=r[1],d=s.a.useState([]),p=Object(c.a)(d,2),f=p[0],m=p[1];s.a.useEffect((function(){n&&m(e.options())}),[n,e]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(V.a,{class:e.class,tip:e.actionName,action:function(){return i(!0)}}),s.a.createElement(Pe.a,{open:n,onClose:function(){return i(!1)},"aria-labelledby":"dialog-title",fullWidth:!0},s.a.createElement(Ce.a,{id:"dialog-title"},"\u0412\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435: ",e.actionName," ?"),s.a.createElement(Re.a,null,s.a.createElement("span",{className:"popup-confirm-choice__content"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c!"),s.a.createElement(Be.a,{"aria-label":"choice",name:"choice",value:o,onChange:function(e){var t=/^\d+$/.test(e.target.value)?parseInt(e.target.value):e.target.value;u(t)},className:"popup-confirm-choice__radio-group"},f.map((function(e,t){return s.a.createElement(Ge.a,{key:"modal-choice-".concat(t),value:e.value,control:s.a.createElement(He.a,null),label:e.name})})))),s.a.createElement(Fe.a,{className:"popup-confirm-choice__actions"},s.a.createElement(Me.a,{variant:"outlined",onClick:function(){e.action(e.id,o),i(!1)},color:"primary",className:"MuiButton-outlinedOk",startIcon:s.a.createElement(Ye.a,null)},"\u0414\u0430"),s.a.createElement(Me.a,{variant:"outlined",onClick:function(){return i(!1)},color:"secondary",startIcon:s.a.createElement(We.a,null)},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}var Je=(new H.a).getYearWeekStr();function Ke(e){var t=e.fullColsNum,a=e.getDateGroup,n=e.row,i=e.groupBy,l=e.groupValue,r=e.groupHide;return s.a.createElement(ue.a,null,s.a.createElement(de.a,{colSpan:"discussion"===e.tableName?t-4:t,className:"data-table__row-title"},s.a.createElement(C.a,{colSpan:t,style:{paddingTop:"0px",paddingBottom:"0px"},onClick:function(){return r[a(n[i])]=!r[a(n[i])],e.setGroup(r)}},s.a.createElement(z.a,null,r[a(n[i])]?s.a.createElement(V.a,{class:"icn_arrow_right",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",action:function(){return r[a(n[i])]=!0,e.setGroup(r)}}):s.a.createElement(V.a,{class:"icn_arrow_down",tip:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",action:function(){return r[a(n[i])]=!1,e.setGroup(r)}})),s.a.createElement(W.a,{variant:"inherit",noWrap:!0,style:{fontSize:"var(--font-size-table)"}},e.headCells[i].value,": ",l))),"discussion"===e.tableName&&s.a.createElement(s.a.Fragment,null,s.a.createElement(de.a,{colSpan:3,className:"data-table__row-title_right"},Je===n.week?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ue,{class:"icn_notification",id:n.week,options:function(){var t,a=[{value:0,name:"\u0412\u0441\u044f \u043d\u0435\u0434\u0435\u043b\u044f"}],n=Object(J.a)(e.weekData.sort((function(e,t){return e.date<t.date?-1:1})));try{for(n.s();!(t=n.n()).done;){var s=t.value;if(!a.map((function(e){return e.value})).includes(s.date)){var i=he()(s.date,"YYYY-MM-DD");a.push({value:s.date,name:i.format("dddd, DD MMMM YYYY")})}}}catch(l){n.e(l)}finally{n.f()}return a},action:e.sendNotification,actionName:"\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f\u0445"}),"\u2003\u2003"):s.a.createElement("span",{style:{width:"50px",display:"inline-block"}},"\xa0"),s.a.createElement(V.a,{class:"icn_description",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u0435\u043b\u0438",action:e.toggleDescription}),"\u2003\u2003",s.a.createElement(Ue,{class:"icn_discussionCopy",id:n[i],options:function(){for(var e=[],t=0;t<2;t++){var a={value:t},n=new Date;n.setDate(n.getDate()+7*t);var s="".concat(he()(n,"YYYY-MM-DD").startOf("week").format("DD MMMM")," - ").concat(he()(n,"YYYY-MM-DD").endOf("week").format("DD MMMM YYYY")," \u0433");a.name=0===t?"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ".concat(s):1===t?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ".concat(s):"".concat(t,"-\u044f \u043d\u0435\u0434\u0435\u043b\u044f: ").concat(s),e.push(a)}return e},action:e.copyPreviousWeekDiscussions,actionName:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439 \u043d\u0435\u0434\u0435\u043b\u0438"}))))}var $e=a(137),qe=(a(278),Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(4),a.e(6)]).then(a.bind(null,445))}))),Qe=Object(n.lazy)((function(){return a.e(9).then(a.bind(null,442))})),Ze=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,443))})),Xe=Object(n.lazy)((function(){return a.e(10).then(a.bind(null,444))})),et=function(e){return function(t,a){return function(e,t,a){var n,s=0,i=Object(J.a)(a);try{for(i.s();!(n=i.n()).done;){var l=n.value,r=l.field,c=Number.isInteger(e[r])?e[r]:e[r]?e[r].toString():"",u=Number.isInteger(t[r])?t[r]:t[r]?t[r].toString():"";if("select"===o.e.dataTable[r].type&&(""!==c&&"string"===typeof c&&(c=o.e["".concat(r,"List")][c].value),""!==u&&"string"===typeof u&&(u=o.e["".concat(r,"List")][u].value),"string"!==typeof c&&(c=""),"string"!==typeof u&&(u="")),s=0,u<c&&(s=-1),u>c&&(s=1),"asc"===l.order&&(s*=-1),0!==s)break}}catch(d){i.e(d)}finally{i.f()}return s}(t,a,e)}},tt=function(e){Object(k.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setData=function(e){n.setEditID(-1),n.setState({data:e})},n.setPage=function(e){n.setEditID(-1),n.setState({page:e})},n.setOrder=function(e){n.setState({order:e})},n.setOrderBy=function(e){n.setState({orderBy:e})},n.setEditID=function(e){n.setState({editID:e})},n.setEditItem=function(e){n.setState({editItem:e})},n.setShowFullTextID=function(e){n.setState({showFullTextID:e})},n.setRowsPerPage=function(e){n.setState({rowsPerPage:e})},n.setHeadCells=function(e){n.setState({headCells:e})},n.setWeekDescription=function(e){n.setState({weekDescription:e})},n.setSearch=function(e){o.c.data.commonFieldSearch=e,n.setData(Object(o.b)())},n.setSort=function(e){var t=n.state.sort,a=t.map((function(e){return e.field})).indexOf(e);-1!==a?"asc"===t[a].order?t[a].order="desc":t.splice(a,1):t.push({field:e,order:"asc"}),sessionStorage.setItem("sort",JSON.stringify(t)),n.setState({sort:t})},n.handleRequestSort=function(e,t){n.setSort(t)},n.handleRequestGroup=function(e,t){var a=n.state.sort;t&&""!==t&&a.field!==t&&("week"===t?n.setState({sort:[{field:t,order:"desc"},{field:"date",order:"asc"},{field:"time",order:"asc"}]}):n.setState({sort:[{field:t,order:"asc"}]})),n.setState({groupBy:t,byWeek:!1})},n.handleChangePage=function(e,t){n.setPage(t)},n.handleChangeRowsPerPage=function(e){n.setRowsPerPage(parseInt(e.target.value,10)),n.setPage(0)},n.defaultSort=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a=[],s=sessionStorage.getItem("sort");if(s){var i=JSON.parse(s);Array.isArray(i)&&(a=i)}else t.split(",").map((function(t,n){return a.push({field:t,order:e.split(",")[n]})}));n.setState({sort:a,groupBy:"",search:""}),o.e.specificParameters&&o.e.specificParameters.defaultGroupField&&n.setState({groupBy:o.e.specificParameters.defaultGroupField})},n.realID=function(e){return o.a.map((function(e){return e.id})).indexOf(e)},n.editTableRow=function(e,t){var a=!1;Object(u.a)("patch",t,e,o.e.dataTableName).then((function(s){if(Object(c.a)(s,1)[0])a=!0;else{var i=n.realID(e);Object.keys(t).map((function(e){return o.a[i][e]=t[e]})),n.setData(Object(o.b)()),d.a.upd.dispatch({type:"UPDATE",update:!0})}})).then((function(){a?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})})),d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."})},n.addTableRow=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.addTableRowArray([e],t)},n.addTableRowArray=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Promise.all(e.map((function(e){return Object(u.a)("put",e,void 0,o.e.dataTableName)}))).then((function(a){var s,i=0,l=1,r=Object(J.a)(a);try{for(r.s();!(s=r.n()).done;){var c=s.value,u=c[0],p=c[1];u&&(i=1),p&&p.data&&p.data.id||(l=0)}}catch(h){r.e(h)}finally{r.f()}if(i)d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438"});else if(l){for(var f in d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),e){var m=e[f],b=a[f][1];m.id=b.data.id,m.value=m[o.e.specificParameters.mainValue],o.e["".concat(o.e.dataTableName,"List")]&&(o.e["".concat(o.e.dataTableName,"List")][m.id]=m),o.a.push(m)}t&&n.setData(Object(o.b)())}}))},n.deleteTableRow=function(e){d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."});var t=!1;Object(u.a)("delete",{},e,o.e.dataTableName).then((function(a){if(Object(c.a)(a,1)[0])t=!0;else{n.setShowFullTextID(-1);var s=n.realID(e);o.a.splice(s,1),n.setData(Object(o.b)()),d.a.upd.dispatch({type:"UPDATE",update:!0})}})).then((function(){t?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.inlineEditOk=function(e){return function(t){var a=n.state.editItem,s=n.realID(e),i={};Object.keys(o.a[s]).map((function(e){return i[e]=o.a[s][e]})),i[a]=n["edit-".concat(a,"-").concat(e)].value,d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(u.a)("patch",i,e,o.e.dataTableName).then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),o.a[s][a]=i[a],n.setData(Object(o.b)()))}))}},n.dialogEditOk=function(e,t,a){var s=n.realID(e),i={};Object.keys(o.a[s]).map((function(e){return i[e]=o.a[s][e]})),i[t]=a,d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(u.a)("patch",i,e,o.e.dataTableName).then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),o.a[s][t]=a,n.setData(Object(o.b)()))}))},n.completeTableRow=function(e){var t=n.realID(e),a={};Object.keys(o.a[t]).map((function(e){return a[e]=o.a[t][e]})),a.status="done";var s=new Date;a.dateEnd=s.toISOString().replace(/(.+)T(.+)/,"$1"),d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(u.a)("patch",a,e).then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),o.a[t].status=a.status,o.a[t].dateEnd=a.dateEnd,n.setData(Object(o.b)()))}))},n.setStatusTableRow=function(e,t){var a=n.realID(e),s={};if(Object.keys(o.a[a]).map((function(e){return s[e]=o.a[a][e]})),s.status=t,"done"===t){var i=new Date;s.dateEnd=i.toISOString().replace(/(.+)T(.+)/,"$1")}d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(u.a)("patch",s,e,o.e.dataTableName).then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438"}):(d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),o.a[a].status=s.status,o.a[a].dateEnd=s.dateEnd,n.setData(Object(o.b)()))}))},n.showFullText=function(e){return function(t){n.state.showFullTextID===e?n.setShowFullTextID(-1):n.setShowFullTextID(e)}},n.loadLinked=function(){var e=Object(re.a)(le.a.mark((function e(t){var a,s,i,l=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"spec_notes",s=o.e.dataTableName,d.a.table.dispatch({type:"SET_TABLE",tableName:o.e.dataTableName}),e.next=5,Object(u.c)(s,"direct",{id:t});case 5:i=e.sent,n.props.reloadDataTable(a,(function(){o.c.data.idTask=t,"spec_notes"===a&&(o.c.perm.idTask=t),o.c.perm.mainTable=s,n.setState({titleRow:"".concat(i[0].id," - ").concat(i[0].value)})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showResults=function(){var e=Object(re.a)(le.a.mark((function e(t){var a,s,i=arguments;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"discussion",e.next=3,Object(u.c)(a,"direct",{idTask:t,mainTable:o.e.dataTableName});case 3:s=e.sent,n.setState({showAddRows:t,secDataList:s.sort((function(e,t){return e.date.toString()>t.date.toString()?-1:1})).map((function(e){var t=[];return t.push(he()(e.date).format("DD MMMM YYYY")),t.push(e.participants.split(",").map((function(e){var t;return(null===(t=o.e.developerList[e])||void 0===t?void 0:t.value)?o.e.developerList[e].value:e})).join(", ")),t.push(e.result),{string:t.join("\n")}}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addLinkedData=function(e,t,a){var s=n.realID(e),i={},l=o.e.tables["".concat(t,"_meta")];for(var r in l.dataTable)l.dataTable[r].defaultValue&&(i[r]=Object($e.a)(s,r,l.dataTable));for(var p in a)i[p]=a[p];return d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0432 \u0411\u0414..."}),Object(u.a)("put",i,void 0,t).then((function(e){var t=Object(c.a)(e,2),a=t[0],n=t[1];a?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438"}):n&&n.data&&n.data.id?d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414"})})),!1},n.loadSecondaryList=function(){var e=Object(re.a)(le.a.mark((function e(t,a,s){var i,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAddRows!==t){e.next=4;break}n.setState({showAddRows:-1,secDataList:[]}),e.next=13;break;case 4:return n.setState({showAddRows:t}),i=[],a="taskgroup","discussion"===o.e.dataTableName&&(l=n.realID(t),t=o.a[l].idTask),e.next=10,Object(u.c)(s,"direct",Object(se.a)({},a,t));case 10:e.sent.filter((function(e){return parseInt(e[a])===parseInt(t)&&"done"!==e.status})).sort((function(e,t){return e.value<=t.value?-1:1})).map((function(e){return i.push({id:e.id,value:e.value})})),n.setState({secDataList:i.map((function(e){return{string:" ".concat(e.value)}}))});case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.menuActionLoadQuestions=function(e){return n.loadLinked(e,"spec_notes")},n.menuActionLoadDiscussions=function(e){return n.loadLinked(e,"discussion")},n.menuActionLoadThemeTasks=function(e){return n.loadSecondaryList(e,o.e.dataTableName,"task")},n.sendNotification=function(e){var t={id:e,mode:"notify",feature:o.e.dataTableName};d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."}),Object(u.a)("notify",t,e,"notification").then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.sendNotificationWeekDate=function(e,t){d.a.alert.dispatch({type:"SHOW_ALERT",status:"warn",message:"\u0418\u0434\u0451\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439..."});var a={week:e,mode:"done",feature:"discussion"};t&&(a.date=t),Object(u.a)("notify",a,void 0,"notification").then((function(e){Object(c.a)(e,1)[0]?d.a.alert.dispatch({type:"SHOW_ALERT",status:"fail",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}):d.a.alert.dispatch({type:"SHOW_ALERT",status:"success",message:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0430\u043d\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e"})}))},n.actionMenuList=function(){var e=[];if(o.e.specificParameters.hasQuestions){var t={id:"spec_notes",value:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b",action:n.menuActionLoadQuestions};e.push(t),t={id:"question",value:"\u0417\u0430\u0434\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441",type:"spec_notes",action:n.addLinkedData},e.push(t),e.push({id:"divider"})}if(o.e.specificParameters.haveDiscussion){var a={id:"discussion",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0435",type:"discussion",action:n.addLinkedData};e.push(a)}if(o.e.specificParameters.hasGoToDiscussion){var s={id:"goToDiscussion",value:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f",type:"discussion",action:n.menuActionLoadDiscussions};e.push(s)}if(o.e.specificParameters.hasSublistData){var i={id:"secDataList",value:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",action:n.menuActionLoadThemeTasks};e.push(i),e.push({id:"divider"})}if(o.e.specificParameters.hasEditMenu){var l={id:"tasks_edit",value:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",actionName:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",action:n.editTableRow,actionNew:n.addTableRow};e.push(l)}if(o.e.specificParameters.hasSetStatusMenu){var r={id:"tasks_status",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",actionName:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",isListOfItems:!0,listItems:o.e.statusList,action:n.setStatusTableRow};e.push(r)}if(o.e.specificParameters.hasDeleteButton){var c={id:"tasks_delete",value:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",actionName:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",action:n.deleteTableRow};e.push(c)}if(o.e.specificParameters.hasNotificationButton){e.push({id:"divider"});var u={id:"notification",value:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435",action:n.sendNotification};e.push(u)}if(o.e.specificParameters.hasShowResults){var d={id:"showThemeResults",value:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0439",type:"discussion",action:n.showResults};e.push(d)}return e},n.setIsOpenedPopupEdit=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log(e,t),n.setState({taskPopupEdit:e}),n.setState({isOpenedPopupEdit:t})},n.getDateGroup=function(e){return n.state.byWeek?he()(e,"YYYY-MM-DD").week():e},n.toggleDescription=function(e){var t=n.state.weekDescription;t&&t===e?n.setWeekDescription(void 0):n.setWeekDescription(e)},n.state={loadData:!1,hasAddMenu:!0,page:0,rowsPerPage:100,search:"",sort:[{field:"id",order:"asc"}],groupBy:"",groupHide:{},editID:-1,editItem:"",showFullTextID:-1,showAddRows:-1,data:o.a,headCells:o.e.dataTable,titleRow:"",secDataList:[],weekDescription:void 0,isOpenedPopupEdit:!1,taskPopupEdit:void 0},n.setData=n.setData.bind(Object(g.a)(n)),n.setPage=n.setPage.bind(Object(g.a)(n)),n.setSearch=n.setSearch.bind(Object(g.a)(n)),n.setSort=n.setSort.bind(Object(g.a)(n)),n.setEditID=n.setEditID.bind(Object(g.a)(n)),n.setEditItem=n.setEditItem.bind(Object(g.a)(n)),n.setShowFullTextID=n.setShowFullTextID.bind(Object(g.a)(n)),n.setRowsPerPage=n.setRowsPerPage.bind(Object(g.a)(n)),n.setHeadCells=n.setHeadCells.bind(Object(g.a)(n)),n.setIsOpenedPopupEdit=n.setIsOpenedPopupEdit.bind(Object(g.a)(n)),n.setWeekDescription=n.setWeekDescription.bind(Object(g.a)(n)),n}return Object(y.a)(a,[{key:"copyPreviousWeekDiscussions",value:function(e,t){var a,n=o.a.filter((function(t){return t.week===e})),s=[],i=Object(J.a)(n);try{for(i.s();!(a=i.n()).done;){var l=a.value,r=Object(ne.a)({},l);r.result="",r.status="new",r.videoConf="";var c=he()().startOf("week").day(he()(r.date).day()+7*t);r.date=he()(c).format("YYYY-MM-DD"),r.week=he()(c).format("YYYY.WW"),s.push(r)}}catch(u){i.e(u)}finally{i.f()}this.addTableRowArray(s)}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=d.a.state.subscribe((function(){var t=d.a.state.getState().STATE.dataLoading;if(t&&"data"===t){var a=o.e.specificParameters.defaultSortDirection||"desc",n=o.e.specificParameters.defaultSortField||"id",s=[],i=sessionStorage.getItem("sort");if(i){var l=JSON.parse(i);Array.isArray(l)&&(s=l)}else n.split(",").map((function(e,t){return s.push({field:e,order:a.split(",")[t]})}));var r="";o.e.specificParameters&&o.e.specificParameters.defaultGroupField&&(r=o.e.specificParameters.defaultGroupField),e.setState({headCells:o.e.dataTable,sort:s,search:"",groupBy:r,editID:-1,data:Object(o.b)(!0),loadData:!0})}})),this.unsubscribeData=d.a.data.subscribe((function(){d.a.data.getState().DATA.redraw&&(e.setData(Object(o.b)()),e.setPage(0))})),this.unsubscribeTable=d.a.table.subscribe((function(){e.setState({loadData:!1,secDataList:[],titleRow:""})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.unsubscribeData(),this.unsubscribeTable()}},{key:"render",value:function(){var e,t,a,i=this,l=this.state,r=l.page,c=l.order,u=l.orderBy,d=l.sort,p=l.groupBy,f=l.headCells,m=l.weekDescription,b=this.state,h=b.rowsPerPage,v=b.data,E=b.secDataList,y={},g=this.state.groupHide,k=new Date;k=k.toLocaleDateString().replace(/(\d+).(\d+).(\d+)/,"$3-$2-$1"),this.props.noPagination&&(h=(v=Object(o.b)()).length);var S=function(){var e=!1;return o.e.specificParameters&&(o.e.specificParameters.hasSpecAction||o.e.specificParameters.hasSpecNotes||o.e.specificParameters.hasEditMenu||o.e.specificParameters.hasDeleteButton||o.e.specificParameters.hasDoneButton)&&(e=!0),e}(),w=Object.values(o.e.dataTable).filter((function(e){return e.showInTable})).length+(S?1:0);return this.state.loadData?s.a.createElement(ce.a,{size:"small",stickyHeader:!0,className:"data-table__table"},s.a.createElement(oe.a,null,s.a.createElement(Se,{order:c,sort:d,orderBy:u,groupBy:p,onRequestSort:this.handleRequestSort,onRequestGroup:this.handleRequestGroup,rowCount:v.length,onFilter:function(e){i.setData(e),i.setPage(0)},headCells:f}),!this.props.noPagination&&s.a.createElement(ue.a,null,s.a.createElement(de.a,{colSpan:S?w+1:w,className:"data-table__pagination-cell"},s.a.createElement(we,{setSearch:this.setSearch}),s.a.createElement(Ae,{count:v.length,page:r,rowsPerPage:h,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))),(null===(e=o.e.specificParameters)||void 0===e?void 0:e.hasTitleRow)&&""!==this.state.titleRow&&s.a.createElement(ue.a,null,s.a.createElement(de.a,{colSpan:w,className:"data-table__row-title"},this.state.titleRow))),s.a.createElement(pe.a,null,v.length>0?function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(v,et(d)).slice(r*h,r*h+h).map((function(e){var t="";"new"===e.status&&(t="task_alert"),"discussion"===o.e.dataTableName&&"new"===e.status&&e.date>=k&&(t=""),"hard"===e.priority&&(t="task_bad"),"rejected"===e.status&&(t="task_bad"),"done"===e.status&&(t="task_good"),"discussion"!==o.e.dataTableName||e.result||"done"!==e.status||(t="task_noresult");var a=!1,l="",r="";if(p&&""!==p){var c="";"date"===f[p].type?c=he()(e[p],"YYYY-MM-DD"):"week"===p&&(c=he()(e.date,"YYYY-MM-DD"));var u=i.getDateGroup(e[p]);y[u]||(y[u]=1,a=!0),"date"===f[p].type?(r="".concat(c.format("dddd"),"\n").concat(c.format("DD MMMM")),l=c.format("DD MMMM YYYY")):"week"===p?(r="".concat(c.format("dddd"),"\n").concat(c.format("DD MMMM")),l=c.startOf("week").format("DD MMMM YYYY")+" - "+c.endOf("week").format("DD MMMM YYYY")):l=o.e["".concat(p,"List")]?o.e["".concat(p,"List")][e[p]].value:e[p]}for(var d={display:!1},b=0,h=Object.values(f);b<h.length;b++){var v=h[b];"fulltext"===v.type&&""!==e[v.id]&&"string"===typeof e[v.id]&&(d.value=e[v.id],d.title=v.value,d.id=v.id,d.display=!0,d.fullTextIndexCell=v.tableIndex)}var O="";if(e.videoConf&&/https:\/\/us02web\.zoom\.us\/j\/\d+\?pwd=.+/.test(e.videoConf)){var T=e.videoConf.replace(/^[\s\S]*(https:\/\/us02web\.zoom\.us\/j\/\d+\?pwd=\S+\b)[\s\S]*/,"$1"),_=T.replace(/^https:\/\/us02web\.zoom\.us\/j\/\d{7}(\d{4}).+/,"$1");O=s.a.createElement(V.a,{type:"link",class:"icn_zoom",tip:_,href:T})}var D="";if(e.videoConf&&/youtu\.?be/.test(e.videoConf)){var j=e.videoConf.replace(/^[\s\S]*(https:\/\/(www\.)?youtu\.?be.+\b)[\s\S]*/,"$1");D=s.a.createElement(V.a,{type:"link",class:"icn_youtube",href:j})}return s.a.createElement(n.Fragment,{key:"".concat(e.id)},p&&""!==p&&a&&s.a.createElement(Ke,{tableName:o.e.dataTableName,fullColsNum:S?w+2:w,headCells:f,groupBy:p,groupValue:l,groupHide:g,setGroup:function(e){i.setState({groupHide:e})},row:e,weekData:o.a.filter((function(t){return t.week===e.week})),getDateGroup:i.getDateGroup,sendNotification:function(e,t){i.sendNotificationWeekDate(e,t)},toggleDescription:function(){i.toggleDescription(e.week)},copyPreviousWeekDiscussions:function(e,t){i.copyPreviousWeekDiscussions(e,t)}}),s.a.createElement(ue.a,{hover:!0,tabIndex:-1,key:"row-main-".concat(e.id),className:"".concat(t," data-table__row"),style:{height:"31px",display:!p||p&&y[i.getDateGroup(e[p])]&&!g[i.getDateGroup(e[p])]?"table-row":"none"}},Object.values(f).filter((function(e){return e.showInTable})).sort((function(e,t){return e.tableIndex>=t.tableIndex?1:-1})).map((function(t,a){var l=t.id,c=p&&""!==p&&(t.id===p||"date"===t.id&&"week"===p)?r:e[t.id];"time"===t.type&&(c=c.replace(/(\d\d:\d\d):\d\d/,"$1")),"mainTable"===t.id&&(c=o.e.tables["".concat(c,"_meta")].specificParameters.tableName);var u=e.id,f="";-1!==["datetime","date","time"].indexOf(t.type)&&(f="nowrap"),p&&""!==p&&(t.id===p||"date"===t.id&&"week"===p)&&(f="pre");var b=0===a?"10px":"0px";return s.a.createElement(n.Fragment,{key:"td-".concat(l,"-").concat(u)},s.a.createElement(de.a,{className:"data-table__cell",align:"left",padding:"none",style:{whiteSpace:f,paddingLeft:b,fontSize:"var(--font-size-table)"}},t.isInlineEditable&&"string"===t.type&&(i.state.editID!==u||i.state.editItem!==l)&&s.a.createElement(s.a.Fragment,null,d.display&&o.e.dataTable[l].hasFullTextLink&&s.a.createElement(V.a,{class:"icn_description",tip:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ".concat(d.title),action:i.showFullText(e.id)}),O,D,c),i.state.editID===u&&i.state.editItem===l&&s.a.createElement(fe.a,{type:"text",autoFocus:!0,defaultValue:c,ref:"edit-".concat(l,"-").concat(u),inputRef:function(e){return i["edit-".concat(l,"-").concat(u)]=e},inputProps:{style:{fontSize:"var(--font-size-table)"}},endAdornment:s.a.createElement(me.a,{position:"end"},s.a.createElement("div",{className:"data-table__cell-edit-buttons"},s.a.createElement(V.a,{class:"icn_ok",action:i.inlineEditOk(u)}),s.a.createElement(V.a,{class:"icn_cancel",action:function(){i.setEditID(-1),i.setEditItem("")}}))),fullWidth:!0}),t.isInlineEditable&&"fulltext"===t.type&&s.a.createElement("div",{ref:"div-".concat(l,"-").concat(u),className:"data-table__cell-fulltext"},s.a.createElement("div",{className:"data-table__cell-fulltext-value"},d.display&&o.e.dataTable[l].hasFullTextLink&&s.a.createElement(V.a,{class:"icn_description",action:i.showFullText(e.id)}),c),i.state.hoverID===u&&(i.state.editID!==u||i.state.editItem!==l)&&s.a.createElement(n.Suspense,{fallback:s.a.createElement("p",null,"...")},s.a.createElement(Qe,{class:"icn_tasks_edit",id:e.id,property:l,text:c,action:i.dialogEditOk}))),!t.isInlineEditable&&"multi-select"!==t.type&&("select"!==t.type||"undefined"===typeof o.e["".concat(l,"List")][c])&&s.a.createElement(s.a.Fragment,null,d.display&&o.e.dataTable[l].hasFullTextLink&&s.a.createElement(V.a,{class:"icn_description",action:i.showFullText(e.id)}),c),!t.isInlineEditable&&"select"===t.type&&"undefined"!==typeof o.e["".concat(l,"List")][c]&&s.a.createElement(s.a.Fragment,null,d.display&&a+1===d.fullTextIndexCell&&o.e.dataTable[l].hasFullTextLink&&s.a.createElement(V.a,{class:"icn_description",action:i.showFullText(e.id)}),o.e["".concat(l,"List")][c].value),!t.isInlineEditable&&"multi-select"===t.type&&s.a.createElement("div",{className:"data-table__cell-multiselect"},d.display&&a+1===d.fullTextIndexCell&&o.e.dataTable[l].hasFullTextLink&&s.a.createElement(V.a,{class:"icn_description",action:i.showFullText(e.id)}),c.split(",").map((function(e){var t;return(null===(t=o.e["".concat(l,"List")][e])||void 0===t?void 0:t.value)||e})).join(", "))),t.isInlineEditable&&"string"===t.type&&s.a.createElement(de.a,{className:"data-table__cell",align:"center",padding:"none",style:{width:"10px",whiteSpace:f,paddingLeft:b,borderBottom:(i.state.showFullTextID===e.id||m&&m===e.week)&&d.display&&0}},i.state.editID!==u&&s.a.createElement("div",{className:"data-table__hover-icon data-table__cell-inline-edit"},s.a.createElement(V.a,{class:"icn_tasks_edit",tip:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c: ".concat(o.e.dataTable[l].value),action:function(){i.setEditID(u),i.setEditItem(l)}}))))})),S&&s.a.createElement(de.a,{className:"data-table__cell data-table__hover-icon",padding:"none",style:{paddingLeft:o.e.mobile?"10px":""}},s.a.createElement("div",{className:"data-table__hover-icon"},s.a.createElement(n.Suspense,{fallback:s.a.createElement("p",null,"...")},s.a.createElement(qe,{id:e.id,task:e,list:i.actionMenuList}))))),(i.state.showFullTextID===e.id||m&&m===e.week)&&d.display&&s.a.createElement(n.Suspense,{fallback:s.a.createElement(ue.a,null,s.a.createElement(de.a,null,"..."))},s.a.createElement(Xe,{data:d,headCells:f,id:e.id})),i.state.showAddRows===e.id&&!g[e[p]]&&s.a.createElement(n.Suspense,{fallback:s.a.createElement(ue.a,null,s.a.createElement(de.a,null,"..."))},s.a.createElement(Ze,{secDataList:E,fullColsNum:w,loadSecondaryList:function(){return i.loadSecondaryList(e.id,"task")}})))})):s.a.createElement(ue.a,null,s.a.createElement(de.a,{colSpan:w},(null===(t=o.e.specificParameters)||void 0===t?void 0:t.tableName)?"".concat(null===(a=o.e.specificParameters)||void 0===a?void 0:a.tableName,": \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"):"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f...")))):s.a.createElement("div",{className:"data-table__loading"},s.a.createElement(te.a,{style:{width:"100px",height:"100px"}}))}}]),a}(s.a.Component),at=(a(279),Object(n.lazy)((function(){return Promise.all([a.e(5),a.e(8)]).then(a.bind(null,447))}))),nt=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(7)]).then(a.bind(null,440))}));function st(e){var t=s.a.useState(o.e.dataTableName),a=Object(c.a)(t,2),i=a[0],l=a[1],r=function(){return d.a.table.subscribe((function(){var e=d.a.table.getState().TABLE.tableName;e&&l(e)}))};return s.a.useEffect((function(){return r(),r()}),[i]),s.a.createElement("section",{className:"content"},"calendar"!==i?s.a.createElement("div",{className:"content__table"},s.a.createElement(n.Suspense,{fallback:s.a.createElement(ae,null)},s.a.createElement(tt,{reloadDataTable:e.reloadDataTable,ref:e.dataRef}))):s.a.createElement("div",{className:"content__calendar"},s.a.createElement(n.Suspense,{fallback:s.a.createElement(ae,null)},s.a.createElement(at,{dates:o.a}))),s.a.createElement(n.Suspense,{fallback:s.a.createElement(ae,null)},s.a.createElement(nt,null)))}a(280);var it=Object(n.lazy)((function(){return a.e(12).then(a.bind(null,446))}));function lt(){var e=s.a.useState([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=s.a.useRef(null),p=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o.e.dataTableName=e,d.a.table.dispatch({type:"SET_TABLENAME",tableName:e}),a&&o.c.clear(),a&&sessionStorage.removeItem("sort"),Promise.all([Object(u.c)("".concat(e,"_meta")),Object(u.c)(o.e.dataTableName)]).then((function(){"function"===typeof t&&t()})).then((function(){d.a.state.dispatch({type:"SET_DATALOADING",stage:"data"})}))},f=document.location.pathname,m=-1!==window.location.href.search(/localhost:3000/)?"":"smisplan",b=f.split("/").slice(1);b[0]===m&&b.shift();var h=b[0],v={data:{}};if(""!==b[1]&&(v.developer=b[1]),o.d.includes(h)&&(o.e.dataTableName=h),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)){o.e.mobile=!0;var E=document.documentElement;E.style.setProperty("--font-size-table-title","16px"),E.style.setProperty("--font-size-table","14px")}return s.a.useEffect((function(){Object(u.c)("developer").then((function(){i(o.e.developerList),Promise.all([].concat(Object(r.a)(o.d.map((function(e){return Object(u.c)("".concat(e,"_meta"))}))),[Object(u.c)(o.e.dataTableName)])).then((function(){d.a.state.dispatch({type:"SET_DATALOADING",stage:"data"})}))}))}),[]),s.a.createElement("div",{id:"mainTable",style:{width:"100%",height:"100%"}},s.a.createElement("header",{style:{display:"flex"}},s.a.createElement(G,{reloadDataTable:p,dataRef:l}),s.a.createElement("div",{className:"divSpacingUp"}),s.a.createElement(T,{reloadDataTable:p})),s.a.createElement("main",{style:{display:"flex"},className:"divBottom"},s.a.createElement(ee,{developer:v.developer,developers:a}),s.a.createElement(st,{dataRef:l,reloadDataTable:p}),s.a.createElement(n.Suspense,{fallback:s.a.createElement("p",null,"...")},s.a.createElement(it,null))))}l.a.render(s.a.createElement(h.a,null,s.a.createElement(lt,null)),document.querySelector("#root"))},7:function(e,t,a){"use strict";var n=a(46);var s={state:Object(n.b)(Object(n.a)({STATE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATALOADING":return e.dataLoading=t.stage,e;case"UNSET_DATALOADING":return delete e.dataLoading,e;default:return e}}})),alert:Object(n.b)(Object(n.a)({ALERT:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return e.alert={status:t.status,message:t.message},e;case"HIDE_ALERT":return delete e.alert,e;default:return e}}})),data:Object(n.b)(Object(n.a)({DATA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REDRAW":return e.redraw=t.redraw,e;default:return e}}})),upd:Object(n.b)(Object(n.a)({UPD:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE":return e.update=t.update,e;default:return e}}})),meta:Object(n.b)(Object(n.a)({META:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREASE":return e.count=e.count+1,e;case"ZERO":return e.count=0,e;default:return e}}}),{META:{count:0}}),table:Object(n.b)(Object(n.a)({TABLE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TABLENAME":return e.tableName=t.tableName,e;default:return e}}}))};t.a=s},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(20),s=a(26),i=a(27),l=a(195),r=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return 0===i.length&&(i[0]=new Date),(e=t.call(this,i)).getWeek=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=t&&"number"===typeof t?t:0;var a=new Date(e.getFullYear(),0,1),n=a.getDay()-t;n=n>=0?n:n+7;var s,i=Math.floor((e.getTime()-a.getTime()-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)+1;if(n<4){if((s=Math.floor((i+n-1)/7)+1)>52){var l=new Date(e.getFullYear()+1,0,1),r=l.getDay()-t;s=(r=r>=0?r:r+7)<4?1:53}}else s=Math.floor((i+n-1)/7);return s},e.getWeekStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.getWeek(t);return a<10?"0".concat(a):a},e.getYearWeekStr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(e.getFullYear(),".").concat(e.getWeekStr(t))},e}return a}(Object(l.a)(Date));r.toDateTimeStr=function(e,t){var a=void 0;if("string"===typeof t)a=t,"time"===e&&(a=t.split("T")[1]);else if("object"===typeof t&&t&&t._isAMomentObject)switch(e){case"date":a=t.format("YYYY-MM-DD");break;case"time":a=t.format("HH:mm:00");break;case"datetime":a=t.format("YYYY-MM-DD HH:mm:00");break;default:a=void 0}return a}}},[[218,2,3]]]);
//# sourceMappingURL=main.a1860ca7.chunk.js.map